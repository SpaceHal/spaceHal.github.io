<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Erste Übungen mit einem Roboter · Let&#x27;s rule the bots!  </title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Einen sehr einfachen Roboter bauen"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Erste Übungen mit einem Roboter · Let&#x27;s rule the bots!  "/><meta property="og:type" content="website"/><meta property="og:url" content="https://spacehal.github.io/"/><meta property="og:description" content="Einen sehr einfachen Roboter bauen"/><meta property="og:image" content="https://spacehal.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://spacehal.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/LogoSmallRed.svg"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://spacehal.github.io/blog/atom.xml" title="Let&#x27;s rule the bots!   Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://spacehal.github.io/blog/feed.xml" title="Let&#x27;s rule the bots!   Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,500,600"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:200,300,300i,400,400i,500,600"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script><script type="text/javascript" src="/js/load-mathjax_v2.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/LogoSmallRed.svg" alt="Let&#x27;s rule the bots!  "/><h2 class="headerTitleWithLogo">Let&#x27;s rule the bots!  </h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/helloworld" target="_self">Arduino</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/botBeginning" target="_self">Robotik</a></li><li class=""><a href="/docs/zumoInstallation" target="_self">Zumo</a></li><li class=""><a href="/docs/moreInfo" target="_self">Links</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Grundlagen</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Grundlagen<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/botBeginning">Erste Schritte</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Linienfolger<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/botEdgeFollower">3-Stufen-Regler (Kantenfolger)</a></li><li class="navListItem"><a class="navItem" href="/docs/botEdge_P_Control">P-Regler (Kantenfolger)</a></li><li class="navListItem"><a class="navItem" href="/docs/botWeightedAverage">Gewichteter Mittelwert</a></li><li class="navListItem"><a class="navItem" href="/docs/botLineFollower">PID-Regler</a></li><li class="navListItem"><a class="navItem" href="/docs/botAdvancedLine">Linienfolger mit Kreuzungen</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Hinderniserkennung<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/botObstacle">Suchen, Finden, Ausweichen</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Erste Übungen mit einem Roboter</h1></header><article><div><span><p>Wenn Sie die Inhalte aus dem Bereich <a href="helloworld">Arduino</a> durchgearbeitet haben, sollten Sie in der Lage sein einen einfachen, fahrbaren Roboter mit zwei Motoren aufzubauen. Hierfür kann entweder aus Acrylglas oder Sperrholz ein Chassis selber gefertigt werden oder es kann im Internet ein fertiges Chassis mit zwei geeigneten Motoren gekauft werden (Suchbegriff: <em>robot chassis 2wd</em>).</p>
<p><img src="../img/ArduinoRobot_web.jpeg" alt="Robot" width=500pt height=auto/></p>
<p>Ein mögliche Schaltung für einen Roboter mit drei Tastern, zwei LEDs und dem Motortreiber DRV8833 ist im Folgenden abgebildet. Achten Sie auf die externe Spannungsversorgung der Motoren.</p>
<p><img src="../img/BotCircuit.png" alt="Robot" width=400pt height=auto/></p>
<h2><a class="anchor" aria-hidden="true" id="aufgaben"></a><a href="#aufgaben" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Aufgaben</h2>
<p>Für die folgenden Aufgaben wird ein Roboter mit <strong>Differentialantrieb</strong> (<a href="https://link.springer.com/chapter/10.1007/978-3-319-62533-1_1#Sec7">differential drive</a>), also ein Roboter mit zwei unabhängig steuerbaren Rädern vorausgesetzt. Zusätzlich sollte der verwendete Roboter mindestens <strong>zwei, besser drei Taster</strong> und <strong>zwei oder mehr LEDs</strong> aufweisen. Weiter Sensoren werden an dieser Stelle nicht benötigt.</p>
<div id="aufgabe">
<ol>
<li><p>Bei der ersten Aufgabe geht es darum, den Roboter sicher losfahren und wieder stoppen zu lassen. Programmieren Sie einen Taster so, dass  beim <strong>ersten Drücken</strong> des Tasters der  Roboter <strong>losfährt</strong> und beim <strong>erneuten Drücken stoppt</strong>.
Wenn der Roboter fährt, soll zusätzlich eine (grüne) <strong>LED aufleuchten</strong>. Berücksichtigen Sie das <a href="debounce">Prellen</a> des Tasters.</p></li>
<li><p>Schreiben Sie ein Programm, welches den Roboter ca. 1,5 Meter <strong>eine gerade Linie</strong> fahren lässt. Schreiben Sie hierfür eine eigene Funktion <code>setSpeed(int pLeft, int pRight)</code>, welche die Geschwindigkeit der beiden Motoren steuert.</p>
<ul>
<li>Notieren Sie das Tastverhältnis des PWM-Signals, ab welchem die Motoren sich zu drehen anfangen.</li>
<li>Nutzen Sie einen <strong>Kalibrierungsfaktor</strong> für die beiden Motoren, damit der Roboter bei gleichen PWM-Werten (für <code>pLeft</code> und <code>pRight</code>) geradeaus fährt. Überlegen Sie sich ein Experiment zum Bestimmen des Kalibrierungsfaktors.</li>
<li>Testen Sie, ob der Kaliebrierungsfakter auch bei anderen Geschwindigkeiten funktioniert.</li>
</ul>
<pre><code class="hljs css language-Arduino"><span class="hljs-keyword">float</span> motorKalibrierung = <span class="hljs-number">0.95</span>; <span class="hljs-comment">// Werte zwischen 1.1 und 0.9 sollten funktionieren</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setSpeed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> pLeft, <span class="hljs-keyword">int</span> pRight)</span>
</span>{
  <span class="hljs-keyword">int</span> lPwmLeft = pLeft;                       <span class="hljs-comment">// PWM-Wert für den linken Motor</span>
  <span class="hljs-keyword">int</span> lPwmRight = motorKalibrierung * pRight; <span class="hljs-comment">// PWM-Wert für den rechten Motor</span>
  <span class="hljs-comment">/*
   Code für die Motorsteuerung mit dem Motortreiber ...
  */</span>
}
</code></pre></li>
<li><p>Schreiben und testen Sie verschiedene Programme, welche folgende Aktionen ausführen:</p>
<ol>
<li>Der Roboter fährt ca. 1,5 Meter geradeaus. Dabei beschleunigt er zu erst und bremst dann kontinuierlich ab.</li>
<li>Der Roboter fährt ein Quadrat mit einer Kantenlänge von ca. einem Meter.</li>
<li>Der Roboter fährt einen Kreis mit einem Durchmesser von ca. einem Meter.</li>
<li>Der Roboter fährt eine Acht.</li>
<li>Der Roboter <em>zeichnet</em> (wenn möglich mit Stift), das <em>Haus vom Nikolaus</em>.</li>
</ol>
<p>Die Start- und Endpunkte sollten (wenn möglich) nahe beieinander liegen.</p></li>
<li><p>Erweitern Sie den Roboter um drei Taster und zwei bis vier LEDs (7 Segementanzeige oder Display ist auch möglich). Schreiben Sie für den Roboter eine <strong>Menüsteuerung</strong>, bei der mit zwei Tastern eine aus vier verschiedene Roboteraktionen der 3. Aufgabe ausgewählt und mit den dritten Taster aktiviert werden kann. Die LEDs sollen entsprechend der ausgewählten Funktionen unterschiedlich leuchten.</p>
<p>Nutzen Sie für die Realisierung der Menüsteuerung <a href="stateMachine">endliche Automaten</a>.</p></li>
</ol>
</div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next button" href="/docs/botEdgeFollower"><span>3-Stufen-Regler (Kantenfolger)</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#aufgaben">Aufgaben</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/LogoSmallRed.svg" alt="Let&#x27;s rule the bots!  " width="66" height="58"/></a><div><a href="/blog">Blog</a><a href="https://www.youtube.com/watch?v=ARJ8cAGm6JE">HAL 9000</a></div><div><a href="http://www.osztiem.de/home/startseite/">OSZ TIEM</a></div></section><section class="copyright">Copyright © 2021 Stefan Warm</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '8a8e0b313860e2fe23d0d40ec6dcd649',
                indexName: 'spacehal',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>