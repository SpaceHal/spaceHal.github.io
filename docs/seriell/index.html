<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Debuggen mit der seriellen Schnittstellen · Let&#x27;s rule the bots!  </title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Bisher ist die Kommunikation mit dem Arduino relativ einseitig. Es wird ein Programm am PC geschrieben, auf den Arduino übertragen und anschließend leuchtet eine LED auf. Auf dem PC wird das Programm geschrieben, der Arduino führt es aus. Wenn das Programm funktioniert, die LEDs also wie gewünscht aufleuchten, ist alles gut. Sollte das Programm aber nicht auf Anhieb funktionieren (was leider meistens der Fall ist), wäre es wünschenswert, wenn uns der Arduino Informationen zum PC zurückschickt, damit wir untersuchen können, wo das Programm evtl. fehlerhaft ist."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Debuggen mit der seriellen Schnittstellen · Let&#x27;s rule the bots!  "/><meta property="og:type" content="website"/><meta property="og:url" content="https://spacehal.github.io/"/><meta property="og:description" content="Bisher ist die Kommunikation mit dem Arduino relativ einseitig. Es wird ein Programm am PC geschrieben, auf den Arduino übertragen und anschließend leuchtet eine LED auf. Auf dem PC wird das Programm geschrieben, der Arduino führt es aus. Wenn das Programm funktioniert, die LEDs also wie gewünscht aufleuchten, ist alles gut. Sollte das Programm aber nicht auf Anhieb funktionieren (was leider meistens der Fall ist), wäre es wünschenswert, wenn uns der Arduino Informationen zum PC zurückschickt, damit wir untersuchen können, wo das Programm evtl. fehlerhaft ist."/><meta property="og:image" content="https://spacehal.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://spacehal.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/LogoSmallRed.svg"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://spacehal.github.io/blog/atom.xml" title="Let&#x27;s rule the bots!   Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://spacehal.github.io/blog/feed.xml" title="Let&#x27;s rule the bots!   Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,300i,500,600"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/LogoSmallRed.svg" alt="Let&#x27;s rule the bots!  "/><h2 class="headerTitleWithLogo">Let&#x27;s rule the bots!  </h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/helloworld" target="_self">Arduino</a></li><li class=""><a href="/docs/botEdgeFollower" target="_self">Robotik</a></li><li class=""><a href="/docs/zumoInstallation" target="_self">Zumo</a></li><li class=""><a href="/docs/moreInfo" target="_self">Links</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Grundlagen</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Grundlagen<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/helloworld">Hallo Welt</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/seriell">Serielle Schnittstelle</a></li><li class="navListItem"><a class="navItem" href="/docs/input">Digitale Eingaben</a></li><li class="navListItem"><a class="navItem" href="/docs/millis">Zeitkritische Aufgaben</a></li><li class="navListItem"><a class="navItem" href="/docs/stateMachine">Endliche Automaten</a></li><li class="navListItem"><a class="navItem" href="/docs/debounce">Entprellen</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Motorsteuerung<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/motorHBridge">Motor mit H-Brücke</a></li><li class="navListItem"><a class="navItem" href="/docs/motorPWM">Motordrehzahl</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Debuggen mit der seriellen Schnittstellen</h1></header><article><div><span><p>Bisher ist die Kommunikation mit dem Arduino relativ einseitig. Es wird ein Programm am PC geschrieben, auf den Arduino übertragen und anschließend leuchtet eine LED auf. Auf dem PC wird das Programm geschrieben, der Arduino führt es aus. Wenn das Programm funktioniert, die LEDs also wie gewünscht aufleuchten, ist alles gut. Sollte das Programm aber nicht auf Anhieb funktionieren (was leider meistens der Fall ist), wäre es wünschenswert, wenn uns der Arduino Informationen zum PC zurückschickt, damit wir untersuchen können, wo das Programm evtl. fehlerhaft ist.</p>
<h2><a class="anchor" aria-hidden="true" id="die-serielle-schittstelle"></a><a href="#die-serielle-schittstelle" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Die serielle Schittstelle</h2>
<p>Die serielle Schnittstelle ist eine Möglichkeit nach dem Hochladen des Programms mit dem Arduino zu kommunizieren. Sie ermöglicht es über den USB-Anschluss Daten vom Arduino zu empfangen, aber auch Daten zum Arduino zu senden. Hierbei bedeutet seriell, dass die Daten, ähnlich wie beim Morsen,  nacheinander übertragen werden.</p>
<p>Auf den meisten Arduino-Boards befinden sich zwei mit <em>RX</em> und <em>TX</em> markierte LEDs. Diese LEDs zeigen an, ob mit der seriellen Schnittstelle gerade Daten empfangen (RX - receive) oder gesendet (TX - transmit) werden. Falls die serielle Schnittstelle mal nicht funktioniert, ist ein Blick auf die beiden LEDs immer ganz hilfreich. (Warum leuchten die RX und TX LEDs beim Hochladen des Programms?)</p>
<h2><a class="anchor" aria-hidden="true" id="einfaches-beispiel"></a><a href="#einfaches-beispiel" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Einfaches Beispiel</h2>
<p>In einem einfachen Beispiel soll der Arduino &quot;Hallo Welt!&quot; zum PC schicken, so dass es mit dem <em>seriellen Monitor</em> in der Arduino IDE gelesen werden kann.</p>
<pre><code class="hljs css language-Arduino"><span class="hljs-comment">/* Dieses Beispiel zeigt, wie vom Arduino Daten zum PC gesendet werden */</span>

<span class="hljs-keyword">int</span> zaehler;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>(){
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);         <span class="hljs-comment">// initialisieren der seriellen Schnittstelle </span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"Das wird nur einmal ausgegeben."</span>);
}
<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>(){  
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Zaehlerstand: "</span>); <span class="hljs-comment">// Text ohne Zeilenvorsprung schreiben</span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(zaehler);        <span class="hljs-comment">// Wert der Variablen schreiben</span>
  }
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="serieller-monitor"></a><a href="#serieller-monitor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Serieller Monitor</h3>
<p>Öffnen Sie mit dem Lupensymbol oben rechts in der Arduino IDE den seriellen Monitor. Stellen Sie sicher, dass das im seriellen Monitor unten rechts die Baudrate 9600 eingestellt ist. Testen Sie das Programm auf Ihrem Arduino.
<img src="../img/ArduinoSeriell.png" alt="Arduino Serieller Monitor" width=80% height=auto/></p>
<h3><a class="anchor" aria-hidden="true" id="erlauterungen"></a><a href="#erlauterungen" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Erläuterungen</h3>
<p>Damit die serielle Schnittstelle benutzt werden kann, muss diese zuerst <strong>initialisiert</strong> werden:</p>
<pre><code class="hljs css language-Arduino"><span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);             <span class="hljs-comment">// initialisiert die serielle Schnittstelle mit 9600 bps (Baud)</span>
</code></pre>
<p>Im Gegensatz zu den anderen Befehlen die bisher verwendet wurden, wird hier dem eigentlichen Befehl <code>begin(9600)</code> durch einen Punkt getrennt das Word <code>Serial</code> voran gestellt. Hierbei handelt es sich um einen Methodenaufruf aus der <code>Serial</code>-Klasse. Als Argument wird dem Befehl <code>Serial.begin(9600)</code> die Übertragungsgeschwindigkeit in Baud (Symbolrate) angegeben. In diesem Fall entspricht 1 Baud genau 1 bit/s. Oft werwendete Datenraten sind 9600, 57600 oder 115200 bit/s. Die im Programm konfigurierte Baudrate muss auch im seriellen Monitor eingestellt werden!</p>
<p>Zum <strong>Senden von Daten</strong> stehen die Funktionen <code>Serial.println()</code> (mit Zeilenvorschub) und <code>Serial.print()</code> (ohne Zeilenvorschub) zur Verfügung. Mit <code>print()</code> und <code>println()</code> kann reiner Text (in Anführungszeichen: <code>&quot;Text&quot;</code>)</p>
<pre><code class="hljs css language-Arduino">  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Zaehlerstand: "</span>); <span class="hljs-comment">// Text ohne Zeilenvorsprung schreiben</span>
</code></pre>
<p>oder aber auch der Wert von Variablen geschrieben werden.</p>
<pre><code class="hljs css language-Arduino">  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(zaehler);        <span class="hljs-comment">// Wert der Variablen schreiben</span>
</code></pre>
<p>In der Arduino-Referenz <a href="https://www.arduino.cc/reference/de/language/functions/communication/serial/"><em>(Link)</em></a> werden weitere Befehle und Beispiele für die serielle Schnittstelle beschrieben.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/helloworld"><span class="arrow-prev">← </span><span>Hallo Welt</span></a><a class="docs-next button" href="/docs/input"><span>Digitale Eingaben</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#die-serielle-schittstelle">Die serielle Schittstelle</a></li><li><a href="#einfaches-beispiel">Einfaches Beispiel</a><ul class="toc-headings"><li><a href="#serieller-monitor">Serieller Monitor</a></li><li><a href="#erlauterungen">Erläuterungen</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/LogoSmallRed.svg" alt="Let&#x27;s rule the bots!  " width="66" height="58"/></a><div><a href="/blog">Blog</a><a href="https://www.youtube.com/watch?v=ARJ8cAGm6JE">HAL 9000</a></div><div></div></section><section class="copyright">Copyright © 2019 Stefan Warm</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '8a8e0b313860e2fe23d0d40ec6dcd649',
                indexName: 'spacehal',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>