<!doctype html>
<html class="docs-version-current" lang="de" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="Rule The Bots" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Objekte Finden und den Roboter darauf ausrichten | Rule The Bots</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://spacehal.github.io/docs/robotik/objektFinden"><meta data-react-helmet="true" name="docsearch:language" content="de"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Objekte Finden und den Roboter darauf ausrichten | Rule The Bots"><meta data-react-helmet="true" name="description" content="Ausrichten zu einem Hindernis ohne Suchen"><meta data-react-helmet="true" property="og:description" content="Ausrichten zu einem Hindernis ohne Suchen"><meta data-react-helmet="true" name="keywords" content="Arduino,zumo 32u4,Objekterkennung,Hinderniserkennung,Objekt,Hindernis,Objekt folgen,sumo,Robotik,Roboter"><link data-react-helmet="true" rel="icon" href="/img/LogoSmallRed.svg"><link data-react-helmet="true" rel="canonical" href="https://spacehal.github.io/docs/robotik/objektFinden"><link data-react-helmet="true" rel="alternate" href="https://spacehal.github.io/docs/robotik/objektFinden" hreflang="de"><link data-react-helmet="true" rel="alternate" href="https://spacehal.github.io/docs/robotik/objektFinden" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d1942bf1.css">
<link rel="preload" href="/assets/js/runtime~main.7427cd70.js" as="script">
<link rel="preload" href="/assets/js/main.71b590ca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Zum Hauptinhalt springen</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">RuleTheBots</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/arduino/helloworld">Arduino</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/robotik/beginning">Robotik</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/zumo32u4/gettingStarted">Zumo32u4</a><a class="navbar__item navbar__link" href="/docs/more/links">Links</a><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Suche"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Suche</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Zurück nach oben scrollen" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--dark_hz6m"><b>RuleTheBots</b></a><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/robotik/beginning">Robotik</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/robotik/beginning">Linienfolger</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/robotik/wheelEncoder">Motorencoder</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/robotik/odometrie">Navigation und Lokalisierung</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/docs/robotik/objektFinden">Hinderniserkennung</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/robotik/objektFinden">Suchen und Ausrichten</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/robotik/gridNavigation">Gitter</a></div></li></ul></li></ul></nav><button type="button" title="Seitenleiste einklappen" aria-label="Seitenleiste einklappen" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">Auf dieser Seite</button></div><div class="theme-doc-markdown markdown"><header><h1>Objekte Finden und den Roboter darauf ausrichten</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="ausrichten-zu-einem-hindernis-ohne-suchen">Ausrichten zu einem Hindernis ohne Suchen<a class="hash-link" href="#ausrichten-zu-einem-hindernis-ohne-suchen" title="Direkter Link zur Überschrift">​</a></h2><p>Mit Hilfe der <a href="/docs/zumo32u4/proxy">Näherungssensoren</a> der Motoren kann sich der Zumo 32U4 auf ein nahes Objekt hin ausrichten. Dafür muss überprüft werden, ob sich das Objekt eher rechts oder eher links vom Roboter befindet. Befindet sich das Objekt eher links, muss sich der Roboter nach rechts drehen, befindet es sich eher rechts, muss er sich andersherum drehen. Geben beide Sensoren die selben Werte zurück, so befindet sich das Objekt eher in der Mitte und der Roboter bleibt stehen. </p><p>Daraus ergibt sich ein einfacher Algorithmus zum Ausrichten.</p><div class="codeBlockContainer_K1bP language-go theme-code-block"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// Richtet den Roboter zu einem Hindernis aus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">wenn </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sensorLinks </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> sensorRechts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">drehenLinks</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">sonst wenn </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sensorLinks </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain"> sensorRechts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">drehenRechts</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">sonst</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">motorenStopp</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Das vollständiges Programm für den Zumo 32U4 könnte dann folgendermaßen aussehen:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/*  Zu einem Hindernis ausrichten. Wird kein Hindernis erkannt, bleibt der Roboter stehen. */</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">#include &lt;Zumo32U4.h&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Zumo32U4LCD lcd;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Zumo32U4ProximitySensors proxSensors;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Zumo32U4ButtonA buttonA;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Zumo32U4Motors motors;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">const  int turnSpeed = 100;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">void setup()</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  // Initialisierung des vorderen IR Sensors.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  proxSensors.initFrontSensor();</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  // Helligkeitswerte: Je höher der Wert, desto eher wird ein Objekt erkannt.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  // Die verwendeten Helligkeitswerte eigenen sich gut für eine weiße Box</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  int levels[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };            </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  proxSensors.setBrightnessLevels(levels, sizeof(levels)/sizeof(levels[0]));</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">void loop()</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  proxSensors.read();  // Wertet den vorderen IR Sensor mit den IR-LEDs links und rechts aus.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  int anzahlLinks = proxSensors.countsFrontWithLeftLeds();</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  int anzahlRechts = proxSensors.countsFrontWithRightLeds();</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  if (anzahlLinks &lt; anzahlRechts) {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    motors.setSpeeds (turnSpeed, -turnSpeed);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  else if (anzahlLinks &gt; anzahlRechts) {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    motors.setSpeeds (-turnSpeed, turnSpeed);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    motors.setSpeeds (0, 0);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  lcd.gotoXY(0, 0);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  lcd.print(&quot;L&quot;); lcd.print(anzahlLinks); lcd.print(&quot; R&quot;); lcd.print(anzahlRechts);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="suchen-und-ausrichten">Suchen und Ausrichten<a class="hash-link" href="#suchen-und-ausrichten" title="Direkter Link zur Überschrift">​</a></h2><p>Im letztem Absatz hat sich der Roboter zu einem Hindernis ausgerichtet, welches mit den Näherungssensoren bereits erfasst wurde. Nun soll der Roboter das Hinderniss suchen und sich dann darauf ausrichten. Dafür wird der logische Wert <code>seheHindernis</code> benötigt, der angibt, ob der Roboter ein Hinderniss sieht, also einer der beiden Sensoren einen gewissen Schwellwert überschreitet.</p><div class="codeBlockContainer_K1bP language-go theme-code-block"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token builtin" style="color:#D8DEE9">bool</span><span class="token plain"> seheHindernis </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sensorLinks </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> schwellWert</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> ODER </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sensorRechts </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> schwellWert</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Das Beispiel dreht den Roboter mit konstanter Geschwindigkeit so lange in eine Richtung, bis der Roboter ein Hindernis erkennt. </p><p>Leider funktioniert der Algorithmus nicht besonders gut. Variieren Sie die Drehgeschwindigkeit des Roboter, wenn er kein Hindernis sieht und analysieren Sie das Verhalten. </p><details class="details_2Ziz alert alert--info details_1VDD ueben" data-collapsed="true"><summary>Aufgaben</summary><div><div class="collapsibleContent_3OHp"> <!-- -->Schreiben Sie ein einfaches Programm, welches den Roboter mit konstanter Drehgeschwindigkeit auf der Stelle nach einem Objekt suchen lässt. Hat er ein Objekt gesehen, soll er sich langsam darauf ausrichten. Nutzen Sie die Variable `bool seheHindernis` .</div></div></details><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="schnelles-suchen-und-ausrichten">Schnelles Suchen und Ausrichten<a class="hash-link" href="#schnelles-suchen-und-ausrichten" title="Direkter Link zur Überschrift">​</a></h2><p>Ein Möglichkeit des Suchen und Ausrichten zu beschleunigen, ist die <strong>Drehgeschwindigkeit</strong> nicht konstant zu lassen, sondern sie, je nachdem ob ein Objekt erkannt wurde oder nicht, schrittweise zu erhöhen oder zu verringern.</p><p>Wenn kein Hindernis <code>bool seheHindernis = (sensorLinks &gt; schwellWert) || (sensorRechts &gt; schwellWert)</code> gesehen wird, wird die Drehengeschwindigkeit des Roboter also erhöht</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">turnSpeed += 20; // Geschwindigkeit erhöhen</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Wenn ein Hindernis erkannt wird, soll die Geschwindigkeit langsam verringert werden:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">turnSpeed -= 20; // Geschwindigkeit erhöhen</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Damit der Geschwindigkeitswert aber nicht zu groß oder klein wird, sollte dieser anschließend noch begrenzt werden:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">turnSpeed = constrain(turnSpeed, minSpeed, maxSpeed);</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="schnelles-suchen-und-ausrichten-mit-einem-pid-regler">Schnelles Suchen und Ausrichten mit einem P(ID)-Regler<a class="hash-link" href="#schnelles-suchen-und-ausrichten-mit-einem-pid-regler" title="Direkter Link zur Überschrift">​</a></h2><p>Ein weiterer Ansatz fürs Suchen und Ausrichten wäre eine PID-Regler. Der Fehler für den Regler ergibt sich dabei aus dem Unterschied zwischen dem linken und dem rechten Näherungssensor:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">anzahlLinks  = proxSensors.countsFrontWithLeftLeds();</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">anzahlRechts = proxSensors.countsFrontWithRightLeds();</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">error        = anzahlRechts - anzahlLinks;</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Wurde der Fehler bestimmt, kann dann mit dem P-Regler </p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">turnSpeed = kp * error;</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>oder einem vollständigen PID-Regler</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">turnSpeed = kp * error + ki * integral + kd * (lastError - error);</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>und den geeigneten Faktoren <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">k_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em"><span></span></span></span></span></span></span></span></span></span></span>, und <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">k_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, die Geschwindigkeit für die Räder bestimmt werden.</p><details class="details_2Ziz alert alert--info details_1VDD ueben" data-collapsed="true"><summary>Aufgaben</summary><div><div class="collapsibleContent_3OHp"> <p>Überlegen Sie sich ein Programm, welches den Roboter <strong>so schnell wie möglich</strong> zu einen Objekt ausrichtet. Sieht der Roboter kein Objekt, soll er sich in die Richtung drehen, in welcher das Objekt das letzte mal gesehen wurde.</p></div></div></details><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="einem-objekt-folgen">Einem Objekt folgen<a class="hash-link" href="#einem-objekt-folgen" title="Direkter Link zur Überschrift">​</a></h2><img src="/img/robotik/FollowBox_1.gif" alt="Roboter folgt einem Objekt mit Entfernungssensor" width="500px" class="center"></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Dokumentation Seiten Navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/robotik/gyroscope"><div class="pagination-nav__sublabel">Zurück</div><div class="pagination-nav__label">Gyroskop</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/robotik/gridNavigation"><div class="pagination-nav__sublabel">Weiter</div><div class="pagination-nav__label">Gitternavigation</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ausrichten-zu-einem-hindernis-ohne-suchen" class="table-of-contents__link toc-highlight">Ausrichten zu einem Hindernis ohne Suchen</a></li><li><a href="#suchen-und-ausrichten" class="table-of-contents__link toc-highlight">Suchen und Ausrichten</a></li><li><a href="#schnelles-suchen-und-ausrichten" class="table-of-contents__link toc-highlight">Schnelles Suchen und Ausrichten</a></li><li><a href="#schnelles-suchen-und-ausrichten-mit-einem-pid-regler" class="table-of-contents__link toc-highlight">Schnelles Suchen und Ausrichten mit einem P(ID)-Regler</a></li><li><a href="#einem-objekt-folgen" class="table-of-contents__link toc-highlight">Einem Objekt folgen</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/SpaceHal/spacehal.github.io/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Schule</div><ul class="footer__items"><li class="footer__item"><a href="https://www.osztiem.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>OSZTIEM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.arduino.cc/reference/de/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Arduino<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/impressum">Impressum</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Stefan Warm. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7427cd70.js"></script>
<script src="/assets/js/main.71b590ca.js"></script>
</body>
</html>