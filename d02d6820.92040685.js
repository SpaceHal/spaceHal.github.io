(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{119:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return d})),t.d(n,"default",(function(){return b}));var i=t(3),r=t(7),a=(t(0),t(133)),l={title:"Arrays (Listen)",sidebar_label:"8. Arrays (Listen)",description:"Mit Arrays in Lauflicht in Arduino programmieren.",custom_edit_url:null,keywords:["Arduino","Array","Listen","Klassen","Blinken","LED","Lauflicht"]},s={unversionedId:"arduino/array",id:"arduino/array",isDocsHomePage:!1,title:"Arrays (Listen)",description:"Mit Arrays in Lauflicht in Arduino programmieren.",source:"@site/docs/arduino/array.md",slug:"/arduino/array",permalink:"/docs/arduino/array",editUrl:null,version:"current",sidebar_label:"8. Arrays (Listen)",sidebar:"sideBarArduino",previous:{title:"Steuern zeitkritischer Aufgaben",permalink:"/docs/arduino/millis"},next:{title:"Entprellen eine Tasters",permalink:"/docs/arduino/debounce"}},d=[{value:"Motivation",id:"motivation",children:[]},{value:"Arrays (Listen)",id:"arrays-listen",children:[]},{value:"Hinweise zum Umgang mit Arrays",id:"hinweise-zum-umgang-mit-arrays",children:[]},{value:"Arrays mit einer Schleife",id:"arrays-mit-einer-schleife",children:[]},{value:"Eine Array f\xfcr die LED-Pins",id:"eine-array-f\xfcr-die-led-pins",children:[]},{value:"Beispielanwendung f\xfcr einen  Array",id:"beispielanwendung-f\xfcr-einen--array",children:[]}],c={rightToc:d};function b(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"motivation"},"Motivation"),Object(a.b)("p",null,"Im Abschnitt ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/arduino/loop"}),"Schleifen")," sollten in einer Aufgabe mehrere LEDs an verschiedenen Pins an- bzw. ausgeschaltet werden. Eine m\xf6gliche L\xf6sung w\xe4re es, nur Pins zu verwenden, welche mit aufeinander folgenden Zahlen bezeichnet werden (z.B. Pin 3, 4, 5, 6, 7)."),Object(a.b)("p",null,"Mit diesem Ansatz k\xf6nnten dann alle Pins durch eine ",Object(a.b)("inlineCode",{parentName:"p"},"for"),"-Schleife zum Beispiel auf ",Object(a.b)("inlineCode",{parentName:"p"},"HIGH"),"gesetzt werden:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"for(pin = 3; pin <8; pin++) // alle Pins von 3 bis 7\n{\n    digitalWrite(pin,HIGH)\n}\n")),Object(a.b)("p",null,"Ganz offensichtlich funktioniert dieser Ansatz nicht, wenn die verwendeten Pins keine aufeinander folgende Nummerierung aufweisen. In diesem Fall eignen sich jedoch  ",Object(a.b)("strong",{parentName:"p"},"Arrays (Listen)"),", um die verschiedenen Pins anzusteuern."),Object(a.b)("h2",{id:"arrays-listen"},"Arrays (Listen)"),Object(a.b)("p",null,"Ein Array ist nichts anderes als eine ",Object(a.b)("strong",{parentName:"p"},"Liste von Variablen"),", welche alle den selben Datentyp haben. Ein Array vom Datentyp ",Object(a.b)("inlineCode",{parentName:"p"},"int")," kann zum Beispiel ",Object(a.b)("strong",{parentName:"p"},"mehrere")," Integer-Werte speichern:"),Object(a.b)("img",{src:"/img/arduino/Array.png",alt:"Arraystruktur",width:"330px",class:"center"}),Object(a.b)("p",null,"Um das abgebildete Array zu erzeugen, wird der Datentyp (",Object(a.b)("inlineCode",{parentName:"p"},"int"),") gefolgt von dem ",Object(a.b)("strong",{parentName:"p"},"Namen des Arrays mit eckigen Klammern")," (",Object(a.b)("inlineCode",{parentName:"p"},"zahlen[]"),") geschrieben. Werte k\xf6nnen dem Array bei der Deklaration sofort in einer geschweiften Klammer ",Object(a.b)("inlineCode",{parentName:"p"},"{ ... }")," \xfcbergeben werden."),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"int zahlen[] = {12, 30, 42, 56, 98};  // Ein Array vom Typ Integer mit 5 Elementen (Werten)\n")),Object(a.b)("p",null,"Der Vorteil des Arrays gegen\xfcber einzelnen Variablen liegt darin, dass der Array nur einen Namen hat und die einzelnen Element \xfcber ihren Index (",Object(a.b)("inlineCode",{parentName:"p"},"0"),", ",Object(a.b)("inlineCode",{parentName:"p"},"1"),", ",Object(a.b)("inlineCode",{parentName:"p"},"2"),", ...) angesprochen werden k\xf6nnen. Anders als vielleicht zu vermuten w\xe4re, hat ",Object(a.b)("strong",{parentName:"p"},"das erste Element")," den Index ",Object(a.b)("inlineCode",{parentName:"p"},"0"),". Bei f\xfcnf Elementen hat somit das letzte Element den Index ",Object(a.b)("inlineCode",{parentName:"p"},"4"),"."),Object(a.b)("img",{src:"/img/arduino/ArrayZugriff.png",alt:"Zugriff auf einen Array",width:"290px",class:"center"}),Object(a.b)("p",null,"Mit Hilfe der Indizes kann mit den einzelnen Array-Elementen wie mit einfachen Datentypen gearbeitet werden. "),Object(a.b)("p",null,"Es k\xf6nnen Werte (neu) zugewiesen werden:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"zahlen[0] = 3;\n")),Object(a.b)("p",null,"Elemente k\xf6nnen mit Werten oder anderen Elementen verglichen werden:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"zahlen[1] > 15;         // true\nzahlen[4] < zahlen[3]   // false\n")),Object(a.b)("p",null,"Oder es k\xf6nnen Werte \xfcber die serielle Schnittstelle ausgegeben werden:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"Serial.print(`Der Wert von zahlen[3] ist:`);\nSerial.println(zahlen[3]);\n")),Object(a.b)("p",null,"Au\xdferdem - und das ist der Grund, warum Arrays so n\xfctzlich sind - kann f\xfcr den Index auch eine Variable verwendet werden:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"int index = 4;\nzahlen[index] = 100; // zahlen[4] = 100\n")),Object(a.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(a.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-heading"}),Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",Object(i.a)({parentName:"h5"},{className:"admonition-icon"}),Object(a.b)("svg",Object(i.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(a.b)("path",Object(i.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(a.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-content"}),Object(a.b)("p",{parentName:"div"},"Der Index f\xfcr das erste Element eines Arrays ist immer ",Object(a.b)("inlineCode",{parentName:"p"},"0"),"."))),Object(a.b)("h2",{id:"hinweise-zum-umgang-mit-arrays"},"Hinweise zum Umgang mit Arrays"),Object(a.b)("p",null,"Ein Array muss immer mit einer ",Object(a.b)("strong",{parentName:"p"},"festen Gr\xf6\xdfe")," (Anzahl von Elementen) deklariert werden. Diese Gr\xf6\xdfe kann sp\xe4ter nicht mehr ge\xe4ndert werden."),Object(a.b)("p",null,"Im ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"array#arrays-listen"}),"Beispiel")," wurde die Gr\xf6\xdfe mit der Zuweisung der Werte f\xfcr die einzelnen Elemente festgelegt. Sollen den Elementen erst  sp\xe4ter Werte zugewiesen werden, so muss dem Array bei der Deklaration trotzdem eine Gr\xf6\xdfe angegeben werden. Das wird durch einen Wert in eckigen Klammern gemacht."),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"int zahlen[5]; // Deklaration eines Arrays mit 5 Elementen - KEINE Wertzuweisung\n")),Object(a.b)("p",null,"Sp\xe4ter kann dann jedem Element ein Wert zugewiesen werden."),Object(a.b)("h2",{id:"arrays-mit-einer-schleife"},"Arrays mit einer Schleife"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-arduino"}),'#define ANZAHL 7\n//highlight-next-line\nint werte[] = {12, 30, 42, 56, 98, 298, 305};\n\nvoid setup(){\n    Serial.begin(115200);\n    delay(1000);\n\n    for(int i = 0; i < ANZAHL; i++){  // Der erste Index ist 0\n        Serial.print("werte[");\n        Serial.print(i);\n        Serial.print("]=");\n        //highlight-next-line\n        Serial.println(werte[i]);     //  Zugriff auf die Elemente des Arrays\n        delay(300);\n    }\n}\n\nvoid loop(){\n    // bleibt leer ...\n}\n')),Object(a.b)("h2",{id:"eine-array-f\xfcr-die-led-pins"},"Eine Array f\xfcr die LED-Pins"),Object(a.b)("p",null,"Betrachten wir noch einmal das Beispiel der LEDs, welche an verschiedenen Arduino-Pins angeschlossen sind. Die LEDs werden an den Pins ",Object(a.b)("inlineCode",{parentName:"p"},"3"),", ",Object(a.b)("inlineCode",{parentName:"p"},"5"),", ",Object(a.b)("inlineCode",{parentName:"p"},"6"),", ",Object(a.b)("inlineCode",{parentName:"p"},"9")," und ",Object(a.b)("inlineCode",{parentName:"p"},"10")," angeschlossen. Die Leds selbst werden von 0 bis 4 durchnummeriert. Insgesamt werden also 5 LEDs angeschlossen."),Object(a.b)("img",{src:"/img/arduino/ArraySteckplatine.png",alt:"Leds alls Array",width:"350px",class:"center"}),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-arduino"}),"#define NUMLED 5 // Anzahl der Array Elemente \nint pwmPins[] = {3, 5, 6, 9, 10};\n\nvoid setup(){\n    for(int i = 0; i < NUMLED; i++){\n        pinMode(pinLeds[i],OUTPUT);\n    }\n}\n\nvoid loop(){\n    for(int i = 0; i < NUMLED; i++){\n        digitalWrite(pinLeds[i],HIGH);\n        delay(250);\n    }\n}\n")),Object(a.b)("h2",{id:"beispielanwendung-f\xfcr-einen--array"},"Beispielanwendung f\xfcr einen  Array"),Object(a.b)("span",{class:"badge badge--danger"},"\xdcben"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-arduino"}),"#define NUMLED 6\nconst int pinsLED[NUMLED] = {3, 5, 6, 9, 10, 11};\nint ledStates[]           = {0,0,0,0,0,0};\n//highlight-next-line\nint unbekannt             = 1;  // Welche Bedeutung hat diese Variable?\nint actualLED             = 0; \n\nunsigned long lastTime    = 0;\nunsigned long delayMillis = 100;\n\nvoid setup() {\n    for (int i = 0; i < NUMLED; i++)\n    {\n        pinMode(pinsLED[i], OUTPUT);\n    }\n} \n\nvoid loop() {\n    if ( (millis() - lastTime) > delayMillis)\n    {\n        //highlight-next-line\n        for (int i = 0; i<NUMLED;i++) // Was passiert in dieser Schleife?\n        { \n              if (i == actualLED) {\n                    ledStates[i] = HIGH;\n              }\n              else {\n                    ledStates[i] = LOW;\n              }\n              digitalWrite(pinsLED[i], ledStates[i]);\n        }\n        //highlight-start\n        if (actualLED >= NUMLED-1){     // Warum wird der Wert der Variablen ge\xe4ndert?\n            unbekannt = -1;\n        }\n        else if (actualLED == 0){\n            unbekannt = 1;\n        }\n        //highlight-end\n        \n        //highlight-next-line\n        actualLED = (actualLED + unbekannt); // Welchen Wert nimmt `actualLED` an\n        lastTime = millis();\n    }\n}\n")),Object(a.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(a.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-heading"}),Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",Object(i.a)({parentName:"h5"},{className:"admonition-icon"}),Object(a.b)("svg",Object(i.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(a.b)("path",Object(i.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),Object(a.b)("strong",{parentName:"h5"},"\xdcben"))),Object(a.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-content"}),Object(a.b)("ol",{parentName:"div"},Object(a.b)("li",{parentName:"ol"},Object(a.b)("ol",Object(i.a)({parentName:"li"},{start:4}),Object(a.b)("li",{parentName:"ol"},"Bauen Sie eine Schaltung mit maximal 6 LEDs auf. Schreiben Sie ein Programm, welches die einzelnen LEDs nacheinander an und wieder ausschaltet, so dass Sie ein ",Object(a.b)("strong",{parentName:"li"},"Lauflicht")," erhalten. Das Lauflicht soll kontinuierlich hin- und herwandern. Nutzen Sie einen Array f\xfcr die verschiedenen LED-Pins und verwenden Sie ",Object(a.b)("strong",{parentName:"li"},"nicht")," die ",Object(a.b)("inlineCode",{parentName:"li"},"delay()"),"-Funktion.")),Object(a.b)("p",{parentName:"li"},"Nutzen Sie die folgende Vorlage:"),Object(a.b)("pre",{parentName:"li"},Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-arduino"}),"#define NUMLED 6\nconst int pinsLED[]       = {3, 5, 6, 9, 10, 11};\nint ledStates[]           = {0, 0, 0, 0, 0, 0};  // gibt an, ob eine LED an oder ausgeschaltet ist\nunsigned long lastTime    = 0;\nunsigned long delayMillis = 100;\nint actualLED             = 0; // Index der aktuellen LED, also jener LED, die angeschaltet ist.\n\nvoid setup() {\n  Serial.begin(9600);\n  for (int i = 0; i < NUMLED; i++) {\n    pinMode(pinsLED[i], OUTPUT);\n  }\n}\n\n// Schaltet die LEDs entsprechend dem Array 'ledStates' an oder aus\nvoid setLeds(int pLedStates[]) {\n  for (int i =  0; i < NUMLED; i++) {\n    digitalWrite(pinsLED[i], pLedStates[i]);\n  }\n}\n\nvoid loop() {\n  if ( (millis() - lastTime) > delayMillis) {\n      /*\n        \xc4ndern sie in einer Schleifen die Werte des Arrays ledStates so,\n        dass sich ein Lauflicht wergibt.\n\n        Nutzen Sie die Funktion 'setLeds()' zum An-/Ausschalten der LEDs.\n      */\n\n    setLeds(ledStates);  // Funktion zum Schalten der LEDs\n    lastTime = millis(); // Zeitstempel \n  }\n}\n"))),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Analysieren im ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"array#beispielanwendung-f%C3%BCr-einen--array"}),"Beispielprogramm")," die Bedeutung der Variablen ",Object(a.b)("inlineCode",{parentName:"p"},"int unbekannt"),". Beantworten Sie hierf\xfcr die Fragen im Kommentar des Codes."))))))}b.isMDXComponent=!0},133:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return u}));var i=t(0),r=t.n(i);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),b=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},o=function(e){var n=b(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=r.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),o=b(t),m=i,u=o["".concat(l,".").concat(m)]||o[m]||p[m]||a;return t?r.a.createElement(u,s(s({ref:n},c),{},{components:t})):r.a.createElement(u,s({ref:n},c))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,l=new Array(a);l[0]=m;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var c=2;c<a;c++)l[c]=t[c];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);