(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{131:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return p}));var r=t(0),i=t.n(r);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var a=i.a.createContext({}),u=function(e){var n=i.a.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=u(e.components);return i.a.createElement(a.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},h=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,d=e.parentName,a=l(e,["components","mdxType","originalType","parentName"]),c=u(t),h=r,p=c["".concat(d,".").concat(h)]||c[h]||b[h]||s;return t?i.a.createElement(p,o(o({ref:n},a),{},{components:t})):i.a.createElement(p,o({ref:n},a))}));function p(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,d=new Array(s);d[0]=h;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,d[1]=o;for(var a=2;a<s;a++)d[a]=t[a];return i.a.createElement.apply(null,d)}return i.a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},88:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return d})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return u}));var r=t(3),i=t(7),s=(t(0),t(131)),d={title:"Die N\xe4herungssensoren",sidebar_label:"N\xe4herungssensoren"},o={unversionedId:"zumo32u4/proxy",id:"zumo32u4/proxy",isDocsHomePage:!1,title:"Die N\xe4herungssensoren",description:"Einf\xfchrung",source:"@site/docs/zumo32u4/proxy.md",slug:"/zumo32u4/proxy",permalink:"/docs/zumo32u4/proxy",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/zumo32u4/proxy.md",version:"current",sidebar_label:"N\xe4herungssensoren",sidebar:"someSidebar",previous:{title:"Die Motoren",permalink:"/docs/zumo32u4/motors"}},l=[{value:"Einf\xfchrung",id:"einf\xfchrung",children:[{value:"IR-LEDs f\xfcr die Objekterkennung",id:"ir-leds-f\xfcr-die-objekterkennung",children:[]},{value:"Das Messprinzip",id:"das-messprinzip",children:[]},{value:"Eigenschaften der Objekterkennung",id:"eigenschaften-der-objekterkennung",children:[]},{value:"Linien- und N\xe4herungssensoren",id:"linien--und-n\xe4herungssensoren",children:[]}]},{value:"Messen",id:"messen",children:[{value:"<code>void read()</code>",id:"void-read",children:[]}]},{value:"Konfigurieren",id:"konfigurieren",children:[{value:"<code>Zumo32U4ProximitySensors()</code>",id:"zumo32u4proximitysensors",children:[]},{value:"<code>void initFrontSensor()</code>",id:"void-initfrontsensor",children:[]},{value:"<code>void initThreeSensors()</code>",id:"void-initthreesensors",children:[]},{value:"<code>void setBrightnessLevels(...)</code>",id:"void-setbrightnesslevels",children:[]},{value:"<code>void setPeriod()</code>",id:"void-setperiod",children:[]}]},{value:"Auslesen",id:"auslesen",children:[{value:"<code>uint8_t countsLeftWithLeftLeds()</code>",id:"uint8_t-countsleftwithleftleds",children:[]},{value:"<code>uint8_t countsLeftWithRightLeds()</code>",id:"uint8_t-countsleftwithrightleds",children:[]},{value:"<code>uint8_t countsRightWithLeftLeds()</code>",id:"uint8_t-countsrightwithleftleds",children:[]},{value:"<code>uint8_t countsRightWithRightLeds()</code>",id:"uint8_t-countsrightwithrightleds",children:[]},{value:"<code>uint8_t countsFrontWithLeftLeds()</code>",id:"uint8_t-countsfrontwithleftleds",children:[]},{value:"<code>uint8_t countsFrontWithRedLeds()</code>",id:"uint8_t-countsfrontwithredleds",children:[]}]},{value:"Beispielprogramm",id:"beispielprogramm",children:[]}],a={rightToc:l};function u(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(s.b)("wrapper",Object(r.a)({},a,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h2",{id:"einf\xfchrung"},"Einf\xfchrung"),Object(s.b)("p",null,"Der Zumo32u4 hat drei IR-N\xe4herungssensoren, welche in verschiedene Richtungen vom Zumo weg zeigen und ",Object(s.b)("strong",{parentName:"p"},"nahe Objekte erkennen")," k\xf6nnen. "),Object(s.b)("img",{src:"/img/zumo32u4/ZumoProxyBottom.jpg",alt:"N\xe4herungssensoren des Zumo",width:"550px",class:"center"}),Object(s.b)("p",null,"Die N\xe4herungssensoren  geben an, ob (reflektiertes) IR-Licht detektiert wurde oder nicht. Allerdings sind so konzipiert, dass sie nur Licht detektieren, welches bei einer Frequenz von 38 kHz schnell ein- und ausgeschaltet (moduliert) wird. Im Gegensatz zu den Liniensensoren habe die drei N\xe4herungssensoren keinen integrierten IR-Sender. Stattdessen erfassen sie reflektiertes 38 kHz IR-Licht, das von 4 IR-LEDs auf dem Zumo 32U4 Mainboard abgestrahlt werden kann. Die N\xe4herungssensoren sind nach den Richtungen benannt, in die sie zeigen: links, vorne oder rechts. Auf der Platine sind sie mit LFT, FRONT und RGT gekennzeichnet. Das f\xfcr die N\xe4herungssensoren verwendete Bauteil ist das ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.pololu.com/file/0J615/tssp77038.pdf"}),"Vishay TSSP77038 IR-Empf\xe4ngermodul"),". "),Object(s.b)("p",null,"Das von den Liniensensoren ausgestrahlte Infrarotlicht kann Messungen der N\xe4herungssensoren st\xf6ren und zu Fehlern f\xfchren. Daher wird empfohlen, die Bodensensoren auszuschalten, bevor Sie die N\xe4herungssensoren verwendet werden. Die Klasse ",Object(s.b)("inlineCode",{parentName:"p"},"Zumo32U4ProximitySensors")," aus der Zumo32U4 Bibliothek ber\xfccksichtigt den Einfluss der Liniensensoren und schaltet diese w\xe4hrend der Messungen mit den N\xe4herungssensoren ab."),Object(s.b)("p",null,"IR-N\xe4herungssensoren k\xf6nnen auch verwendet werden, um Befehle von herk\xf6mmlichen ",Object(s.b)("strong",{parentName:"p"},"IR-Fernbedienungen")," zu empfangen. "),Object(s.b)("h3",{id:"ir-leds-f\xfcr-die-objekterkennung"},"IR-LEDs f\xfcr die Objekterkennung"),Object(s.b)("p",null,"Auf dem Zumo32u4 Mainboard befinden sich auch 4 IR-LEDs, welche ben\xf6tigt werden, um zusammen mit den 3 IR-N\xe4herungssensoren nahe Objekte erkennen zu k\xf6nnen:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Die beiden forderen IR-LEDs (FRONT_LEFT und FRONT_RIGHT) befinden sich an der Vorderseite und sind geeignet Objekt vor dem Roboter zu detektieren."),Object(s.b)("li",{parentName:"ul"},"Zwei seitliche IR-LEDs sind links und rechts (MIDDLE_LEFT und MIDDLE_RIGHT) an der Hauptplatine angebracht und strahlen IR-Licht zur Seite ab.")),Object(s.b)("p",null,"Zum Detektieren m\xf6glicher Objekte werden in der Klasse ",Object(s.b)("inlineCode",{parentName:"p"},"Zumo32U4ProximitySensors")," verschiedene Methoden bereitgestellt, die f\xfcr einzelne IR-Sensoren das reflektierte Licht der unterschiedlichen IR-LEDs bestimmen. "),Object(s.b)("img",{src:"/img/zumo32u4/ZumoIRLED.jpg",alt:"IR-LED Zumo",width:"550px",class:"center"}),Object(s.b)("h3",{id:"das-messprinzip"},"Das Messprinzip"),Object(s.b)("p",null,"Die drei IR-N\xe4herungssensoren sind digitale Sensoren, welche nur zwei Zust\xe4nde annehmen k\xf6nnen: Entweder IR-Licht wurde detektiert oder kein IR-Licht wurde detektiert. Information \xfcber die Intensit\xe4t des detektierten Lichtes k\xf6nnen die Sensoren nicht liefern."),Object(s.b)("p",null,"Um trotzdem zu ermitteln, wieviel IR-Licht ein Objekt reflektiert, kann die Helligkeit der IR-LEDs variiert werden und bestimmt werden, ab welcher Helligkeit der IR-Sensor reflektiertes IR-Licht detektiert. In der praktischen Anwendung werden zum Beispiel 10 Messungen mit 10 verschieden Helligkeiten der IR-LEDs durchgef\xfchrt, um dann zu bestimmen, bei welcher Helligkeit der IR-Sensor aktiviert wird. Die Helligkeit der IR-LEDs wird hierbei \xfcber ein PWM-Signal gesteuert."),Object(s.b)("h3",{id:"eigenschaften-der-objekterkennung"},"Eigenschaften der Objekterkennung"),Object(s.b)("p",null,"Die verwendeten Sensoren sind nicht gedacht f\xfcr die Entfernungsbestimmung von Objekten. Wie stark das abgestrahlte Infrarotlicht von einem Objekt reflektiert wird, h\xe4ngt von verschiedenen Faktoren wie Farbe, Oberfl\xe4chenbeschaffenheit oder Ausrichtung des Objektes ab. Daher ist es nicht m\xf6glich, alleine aus der Information \xfcber die Intensit\xe4t des reflektierten Lichtes die Entfernung eines Objektes zu bestimmen. Hierf\xfcr w\xe4ren ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.sparkfun.com/distance_sensor_comparison_guide"}),"anderen Sensoren")," notwendig."),Object(s.b)("p",null,"Beschr\xe4nkt man sich jedoch auf ein Objekt dessen Reflexionseigenschaften bekannt sind (z.B. einen Becher), so ist es m\xf6glich aus der Intensit\xe4t des reflektierten Lichtes die Entfernung des Objektes zu bestimmen."),Object(s.b)("h3",{id:"linien--und-n\xe4herungssensoren"},"Linien- und N\xe4herungssensoren"),Object(s.b)("p",null,"Leider hat der vom Zumo32u4 verwendete Mikrocontroller nicht genug freie Ein-/Ausgabe-Pins, damit alle 5 Bodensensoren und alle 3 N\xe4herungssensoren zur selben Zeit betrieben werden k\xf6nnen. Insgesamt k\xf6nnen nie mehr als 6 Sensoren zur gleichen Zeit verwendet werden (3 Linien- und 3 N\xe4herungssensoren, 4 Linien- und 2 N\xe4herungssensoren, 5 Linien- und 1 N\xe4herungssensor). Je nachdem welche Sensoren verwendet werden sollen, m\xfcssen an der Platine f\xfcr die Bodensensoren Jumper-Stecker neu gesetzt werden."),Object(s.b)("h2",{id:"messen"},"Messen"),Object(s.b)("h3",{id:"void-read"},Object(s.b)("inlineCode",{parentName:"h3"},"void read()")),Object(s.b)("p",null,"Die Hauptmethode der Klasse, welche die IR-LEDs ansteuert und die Intensit\xe4t des reflektierten IR-Licht misst. Fast alle andern Methoden der Klasse dienen dazu, das Verhalten dieser Methode zu konfigurieren oder auf die Messergebnisse dieser Methode zugreifen zu k\xf6nnen. "),Object(s.b)("p",null,"Die Methode ",Object(s.b)("inlineCode",{parentName:"p"},"void read()")," f\xfchrt folgende Aktionen aus:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},"N\xe4herungssensoren aktivieren."),Object(s.b)("li",{parentName:"ol"},"Liniensensoren IR LEDs deaktivieren."),Object(s.b)("li",{parentName:"ol"},"F\xfcr jeden festgelegten ",Object(s.b)("strong",{parentName:"li"},"Helligkeitswert")," der LEDs werden folgende Aktionen ausgef\xfchrt:",Object(s.b)("ol",{parentName:"li"},Object(s.b)("li",{parentName:"ol"},"Startet IR-Pulse mit den beiden IR-LEDs auf der ",Object(s.b)("em",{parentName:"li"},"linken")," Seite."),Object(s.b)("li",{parentName:"ol"},"Wertet jeden IR-Sensor aus."),Object(s.b)("li",{parentName:"ol"},"Schaltet die LED-Pulse aus."),Object(s.b)("li",{parentName:"ol"},"Startet IR-Pulse mit den beiden IR-LEDs auf der ",Object(s.b)("em",{parentName:"li"},"rechten")," Seite."),Object(s.b)("li",{parentName:"ol"},"Wertet jeden IR-Sensor aus."),Object(s.b)("li",{parentName:"ol"},"Schaltet die LED-Pulse aus.")))),Object(s.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(s.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(s.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(s.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Die Methode  ",Object(s.b)("inlineCode",{parentName:"p"},"read()")," hat keinen R\xfcckgabewert. Zum Auslesen der Messwerte werden daher verschieden Methoden bereitgestellt (Abschnitt ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"#auslesen"}),Object(s.b)("em",{parentName:"a"},"Auslesen")),")."))),Object(s.b)("p",null,"Die ",Object(s.b)("strong",{parentName:"p"},"Helligkeitswerte")," der IR-LEDs k\xf6nnen mit der Methode ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/zumo32u4/proxy#void-setbrightnesslevels"}),Object(s.b)("inlineCode",{parentName:"a"},"setBrightnessLevels()"))," festgelegt werden. Die Frequenz der IR Pulse, welche standardm\xe4\xdfig 38 kHz betr\xe4gt, kann mit ",Object(s.b)("inlineCode",{parentName:"p"},"void setPeriod()")," ge\xe4ndert werden (\xe4ndert auch die Empfindlichkeit des IR-Sensors)."),Object(s.b)("p",null,"Mit den Standardeinstellung ben\xf6tigt die Methode etwa 2,15 Millisekunden pro Helligkeitswert plus 0,62 Millisekunden. Die Anzahl der verwendeten Sensoren hat nur einen geringen Einfluss auf die ben\xf6tigte Zeit."),Object(s.b)("p",null,"Nach der Methode ",Object(s.b)("inlineCode",{parentName:"p"},"read()")," sollte zum Auswerten der Ergebnisse eine der ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"#auslesen"}),"Auslesemethoden")," aufgerufen werden."),Object(s.b)("h2",{id:"konfigurieren"},"Konfigurieren"),Object(s.b)("h3",{id:"zumo32u4proximitysensors"},Object(s.b)("inlineCode",{parentName:"h3"},"Zumo32U4ProximitySensors()")),Object(s.b)("p",null,"Konstruktor der ",Object(s.b)("inlineCode",{parentName:"p"},"Zumo32U4ProximitySensors")," Klasse. "),Object(s.b)("h3",{id:"void-initfrontsensor"},Object(s.b)("inlineCode",{parentName:"h3"},"void initFrontSensor()")),Object(s.b)("p",null,"Konfiguriert das vorher erzeugte Objekt f\xfcr die Verwendung des Frontsensors."),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-arduino"}),"#inlcude <Zumo32U4.h>\n\nZumo32U4ProximitySensors proxSensor;  // Objekt erzeugen\nproxSensor.initFrontSensor();         // Initialisieren des Frontsensors\n")),Object(s.b)("h3",{id:"void-initthreesensors"},Object(s.b)("inlineCode",{parentName:"h3"},"void initThreeSensors()")),Object(s.b)("p",null,"Konfiguriert das vorher erzeugte Objekt f\xfcr die Verwendung von allen drei N\xe4herungssensoren. Die korrekte Jumpereinstellungen an der Platine f\xfcr die Liniensensoren ist zu beachten."),Object(s.b)("h3",{id:"void-setbrightnesslevels"},Object(s.b)("inlineCode",{parentName:"h3"},"void setBrightnessLevels(...)")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"void setBrightnessLevels (uint16_t *levels, uint8_t levelCount)")),Object(s.b)("p",null,"Legt eine Reihe von Helligkeitswerten f\xfcr die IR-LED fest, welche von der Methode ",Object(s.b)("inlineCode",{parentName:"p"},"read()")," verwendet wird. Wird die Methode ",Object(s.b)("inlineCode",{parentName:"p"},"setBrightnessLevels")," nicht genutzt, so werden f\xfcr die IR-LEDs die Standardwerte 4, 15, 32, 55, 85 und 120 verwendet. Sinnvolle Werte liegen zwischen 1 und 128."),Object(s.b)("p",null,"Parameter"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"levels")," Pointer zu einem Array mit Helligkeitswerten"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"levelCount")," Anzahl der Helligkeitswerte")),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-arduino"}),"#inlcude <Zumo32U4.h>\n\nZumo32U4ProximitySensors proxSensors;                       // Objekt erzeugen\n\nuint16_t levels[] = {2, 4, 8, 16, 32, 64, 128};             // Array f\xfcr Helligkeitswerte\nproxSensors.setBrightnessLevels(levels, sizeof(levels));    // Helligkeitswerte festlegen\n")),Object(s.b)("h3",{id:"void-setperiod"},Object(s.b)("inlineCode",{parentName:"h3"},"void setPeriod()")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"void setPeriod (uint16_t period)")),Object(s.b)("h2",{id:"auslesen"},"Auslesen"),Object(s.b)("p",null,"F\xfcr das Auswerten der mit ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/zumo32u4/proxy#void-read"}),Object(s.b)("inlineCode",{parentName:"a"},"read()"))," durchgef\xfchrten Messung gibt es verschieden Methoden, welche sich in der Kombination von IR Sensor und IR LED unterscheiden. "),Object(s.b)("img",{src:"/img/zumo32u4/zumoProxyTop.png",alt:"IR-LED Zumo",width:"450px"}),Object(s.b)("p",null,"F\xfcr jeden IR Sensor (",Object(s.b)("em",{parentName:"p"},"Left, Front, Right"),") stehen zwei Methoden zur Verf\xfcgung. Die Methoden geben an, bei wie vielen Helligkeitswerten der linken (",Object(s.b)("em",{parentName:"p"},"Left LEDs"),") oder rechten LED (",Object(s.b)("em",{parentName:"p"},"Right LEDs"),") der IR Sensor Licht detektiert hat."),Object(s.b)("h3",{id:"uint8_t-countsleftwithleftleds"},Object(s.b)("inlineCode",{parentName:"h3"},"uint8_t countsLeftWithLeftLeds()")),Object(s.b)("p",null,"Gibt die ",Object(s.b)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der linken LED zur\xfcck, bei denen der linke N\xe4herungssensor aktiviert wurde."),Object(s.b)("h3",{id:"uint8_t-countsleftwithrightleds"},Object(s.b)("inlineCode",{parentName:"h3"},"uint8_t countsLeftWithRightLeds()")),Object(s.b)("p",null,"Gibt die ",Object(s.b)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der rechten LED zur\xfcck, bei denen der linke N\xe4herungssensor aktiviert wurde."),Object(s.b)("h3",{id:"uint8_t-countsrightwithleftleds"},Object(s.b)("inlineCode",{parentName:"h3"},"uint8_t countsRightWithLeftLeds()")),Object(s.b)("p",null,"Gibt die ",Object(s.b)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der linken LED zur\xfcck, bei denen der rechte N\xe4herungssensor aktiviert wurde."),Object(s.b)("h3",{id:"uint8_t-countsrightwithrightleds"},Object(s.b)("inlineCode",{parentName:"h3"},"uint8_t countsRightWithRightLeds()")),Object(s.b)("p",null,"Gibt die ",Object(s.b)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der rechten LED zur\xfcck, bei denen der rechte N\xe4herungssensor aktiviert wurde."),Object(s.b)("h3",{id:"uint8_t-countsfrontwithleftleds"},Object(s.b)("inlineCode",{parentName:"h3"},"uint8_t countsFrontWithLeftLeds()")),Object(s.b)("p",null,"Gibt die ",Object(s.b)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der linken LED zur\xfcck, bei denen der mittlere N\xe4herungssensor aktiviert wurde."),Object(s.b)("h3",{id:"uint8_t-countsfrontwithredleds"},Object(s.b)("inlineCode",{parentName:"h3"},"uint8_t countsFrontWithRedLeds()")),Object(s.b)("p",null,"Gibt die ",Object(s.b)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der rechten LED zur\xfcck, bei denen der mittlere N\xe4herungssensor aktiviert wurde."),Object(s.b)("h2",{id:"beispielprogramm"},"Beispielprogramm"),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-arduino"}),"/* Einfaches Beispielprogramm, bei dem die Messewerte des Front-IR-Sensors ausgegeben werden.\n    Wird ein Objekt erkannt, so wird dies auf dem LCD Display angezeigt.\n*/\n\n#include <Zumo32U4.h>\n\nZumo32U4LCD lcd;\nZumo32U4ProximitySensors proxSensors;\nZumo32U4ButtonA buttonA;\n\n// Schwellwert f\xfcr die Objekterkennung\nint sensorThreshold = 4;\n\nvoid setup()\n{\n  // Initialisierung des vorderen IR Sensors. In dieser Konfiguration werden die beiden\n  // seitlichen IR Sensoren nicht verwendet.\n  proxSensors.initFrontSensor();\n\n  // Die Werte des level[] Arrays geben die Intensit\xe4ten der IR LEDs an. Je h\xf6her der Wert,\n  // desto wahrscheinlicher, dass ein Objekt das Licht reflektiert und der IR Sensor es detektiert.\n  int levels[] = { 2, 3, 4, 6, 9, 14, 25, 40, 70};\n  proxSensors.setBrightnessLevels(levels, sizeof(levels));\n\n  \n  lcd.clear();              // Display l\xf6schen\n  lcd.print(F(\"Press A\"));  // Text auf Display schreiben\n  buttonA.waitForButton();  // Warten, bis der Benutzer den Taster A dr\xfcckt.\n  lcd.clear();\n}\n\nvoid printReadingsToSerial()\n{\n  Serial.print(\"Left: \");\n  Serial.println(proxSensors.countsFrontWithLeftLeds());\n  Serial.print(\", Right: \");\n  Serial.println(proxSensors.countsFrontWithRightLeds());\n}\n\nvoid loop()\n{\n  proxSensors.read();  // Wertet den vorderen IR Sensor mit den IR-LEDs links und rechts aus.\n\n  // Anzahl der Werte, bei denen der IR Sensor Licht detektiert hat.\n  int leftValue = proxSensors.countsFrontWithLeftLeds();    \n  int rightValue = proxSensors.countsFrontWithRightLeds();\n\n  // Bestimmen, ob ein Objekt erkannt wurde\n  bool objectSeen = leftValue >= sensorThreshold || rightValue >= sensorThreshold;\n\n  if (objectSeen)  // Ein Objekt wurde erkannt\n  {\n    ledYellow(1);\n    lcd.gotoXY(0, 1);\n    lcd.print('Objekt');\n  }\n  \n  else\n  {\n    ledYellow(0);\n    lcd.gotoXY(0, 1);\n    lcd.print('      ');\n  }\n\n  // Ausgabe auf LCD.\n  lcd.gotoXY(0, 0);\n  lcd.print(leftValue);\n  lcd.print(' ');\n  lcd.print(rightValue);\n\n  printReadingsToSerial(); // Ausgabe auf dem seriellen Monitor.\n}\n")))}u.isMDXComponent=!0}}]);