(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{133:function(e,n,a){"use strict";a.d(n,"a",(function(){return m})),a.d(n,"b",(function(){return g}));var t=a(0),r=a.n(t);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function s(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function c(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?s(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function b(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),p=function(e){var n=r.a.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):c(c({},n),e)),a},m=function(e){var n=p(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},o={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var a=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,l=b(e,["components","mdxType","originalType","parentName"]),m=p(a),d=t,g=m["".concat(s,".").concat(d)]||m[d]||o[d]||i;return a?r.a.createElement(g,c(c({ref:n},l),{},{components:a})):r.a.createElement(g,c({ref:n},l))}));function g(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=a.length,s=new Array(i);s[0]=d;var c={};for(var b in n)hasOwnProperty.call(n,b)&&(c[b]=n[b]);c.originalType=e,c.mdxType="string"==typeof e?e:t,s[1]=c;for(var l=2;l<i;l++)s[l]=a[l];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},99:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return s})),a.d(n,"metadata",(function(){return c})),a.d(n,"rightToc",(function(){return b})),a.d(n,"default",(function(){return p}));var t=a(3),r=a(7),i=(a(0),a(133)),s={title:"Analoge Werte einlesen",sidebar_label:"12. Analoger Eingang",description:"Einlesen analoger Werte mit dem Arduino. Der Analog-Digital-Wandler beim Arduino.",custom_edit_url:null,keywords:["Arduino","Analoger Eingang","Potentiometer","analogRead","Aufgaben"]},c={unversionedId:"arduino/analogInput",id:"arduino/analogInput",isDocsHomePage:!1,title:"Analoge Werte einlesen",description:"Einlesen analoger Werte mit dem Arduino. Der Analog-Digital-Wandler beim Arduino.",source:"@site/docs/arduino/analogInput.md",slug:"/arduino/analogInput",permalink:"/docs/arduino/analogInput",editUrl:null,version:"current",sidebar_label:"12. Analoger Eingang",sidebar:"sideBarArduino",previous:{title:"PWM Signale mit analogWrite()",permalink:"/docs/arduino/pwm"},next:{title:"Eine Men\xfcsteuerung mit zwei Tastern und drei LEDs",permalink:"/docs/arduino/simpleMenu"}},b=[{value:"Beispiel",id:"beispiel",children:[{value:"Schaltung",id:"schaltung",children:[]},{value:"Code",id:"code",children:[]}]},{value:"Aufgaben",id:"aufgaben",children:[]}],l={rightToc:b};function p(e){var n=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},l,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Neben digitalen Eing\xe4ngen und PWM Ausg\xe4ngen hat der Arduino auch einige analoge Eing\xe4nge, welche mit einem ",Object(i.b)("strong",{parentName:"p"},"Analog-Digital-Wandler")," (",Object(i.b)("em",{parentName:"p"},"analog-digital converter: ADC"),") analoge Spannungswerte zwischen 0 und 5 Volt in diskrete Zahlenwerte umwandelt. Analoge Eing\xe4nge werden beim Arduino mit einem A bezeichnet (also A0, A1, A2, ...)"),Object(i.b)("p",null,"Der Arduino UNO verwendet intern einen 10 Bit Analog-Digital-Wandler.  Dadurch wird eine beliebige analoge Eingangspannung  in einen ",Object(i.b)("strong",{parentName:"p"},"diskreten Zahlenwert")," zwischen ",Object(i.b)("span",Object(t.a)({parentName:"p"},{className:"math math-inline"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"katex"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"katex-mathml"}),Object(i.b)("math",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(i.b)("semantics",{parentName:"math"},Object(i.b)("mrow",{parentName:"semantics"},Object(i.b)("mn",{parentName:"mrow"},"0")),Object(i.b)("annotation",Object(t.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"0")))),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"base"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"strut",style:{height:"0.64444em",verticalAlign:"0em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"0")))))," und ",Object(i.b)("span",Object(t.a)({parentName:"p"},{className:"math math-inline"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"katex"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"katex-mathml"}),Object(i.b)("math",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(i.b)("semantics",{parentName:"math"},Object(i.b)("mrow",{parentName:"semantics"},Object(i.b)("mn",{parentName:"mrow"},"1023"),Object(i.b)("mo",{parentName:"mrow"},"="),Object(i.b)("msup",{parentName:"mrow"},Object(i.b)("mn",{parentName:"msup"},"2"),Object(i.b)("mn",{parentName:"msup"},"10")),Object(i.b)("mo",{parentName:"mrow"},"\u2212"),Object(i.b)("mn",{parentName:"mrow"},"1")),Object(i.b)("annotation",Object(t.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"1023 = 2^{10}-1")))),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"base"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"strut",style:{height:"0.64444em",verticalAlign:"0em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"1"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"0"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"2"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"3"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mrel"}),"="),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"base"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"strut",style:{height:"0.897438em",verticalAlign:"-0.08333em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"2"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"msupsub"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"vlist-t"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"vlist-r"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(i.b)("span",Object(t.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord mtight"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord mtight"}),"1"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord mtight"}),"0"))))))))),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"base"}),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"strut",style:{height:"0.64444em",verticalAlign:"0em"}})),Object(i.b)("span",Object(t.a)({parentName:"span"},{className:"mord"}),"1")))))," umgewandelt."),Object(i.b)("p",null,"Die ",Object(i.b)("strong",{parentName:"p"},"Abtastrate")," des Arduino, also die Anzahl der analogen zu digitalen Wandlungen, liegt bei ca. 10.000 pro Sekunde."),Object(i.b)("p",null,"Mehr ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"http://www.netzmafia.de/skripten/hardware/Arduino/Programmierung/arduino-analog.html"}),"Informationen")," zum Analogeingang des Arduinos gibt es auf der Seite von Prof. Plate von der Hochschule M\xfcnchen."),Object(i.b)("h2",{id:"beispiel"},"Beispiel"),Object(i.b)("p",null,"Eine sehr einfache Schaltung zum Einlesen analoger Werte, die garantiert zwischen 0 V und 5 V liegen, ist der ",Object(i.b)("strong",{parentName:"p"},"Spannungsteiler"),". Wird ein ",Object(i.b)("strong",{parentName:"p"},"Potentiometer")," wie unten abgebildet zwischen 0 V und 5 V angeschlossen, so kann der dritte Anschluss (mit dem ver\xe4nderlichen Widerstandswert) an einen analogen Eingang gef\xfchrt werden. Je nach Stellung des Potentiometers ergibt sich am Analogeingang eine andere Teilspannung. "),Object(i.b)("p",null,"Bei dem abgebildeten Program wird zuerst der entsprechende Pin als Eingang definiert "),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-arduino"}),"pinMode(pinPoti, INPUT)\n")),Object(i.b)("p",null,"um anschlie\xdfend mit dem Befehl"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-arduino"}),"int value = analogRead(pinPoti);\n")),Object(i.b)("p",null,"den analogen Pin auszulesen. "),Object(i.b)("h3",{id:"schaltung"},"Schaltung"),Object(i.b)("img",{src:"/img/arduino/breadAnalogInput.svg",alt:"drawing",width:"520pt",class:"center"}),Object(i.b)("h3",{id:"code"},"Code"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-arduino",metastring:'title="analogInput.ino"',title:'"analogInput.ino"'}),"#define pinPoti A0\n\nvoid setup(){\n  Serial.begin(9600);\n  //highlight-next-line\n  pinMode(pinPoti, INPUT);            // als Eingang konfigurieren\n}\n\nvoid loop()\n{\n  //highlight-next-line\n  int messWert = analogRead(pinPoti); // als analogen Wert einlesen\n  Serial.println(messWert);           // Ausgabe des Analogwertes auf dem seriellen Monitor\n}\n")),Object(i.b)("h2",{id:"aufgaben"},"Aufgaben"),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),Object(i.b)("strong",{parentName:"h5"},"\xdcben"))),Object(i.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("ol",{parentName:"div"},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Bauen Sie einen ",Object(i.b)("strong",{parentName:"p"},"Spannungsteiler")," aus zwei Widerst\xe4nden (z.B. 220 \u03a9 und 500 \u03a9) auf. Berechnen Sie die jeweiligen Teilspannungen, wenn die Gesamtspannung 5 Volt betr\xe4gt. Bestimmen Sie anschlie\xdfend sowohl ",Object(i.b)("strong",{parentName:"p"},"rechnerisch")," als auch ",Object(i.b)("strong",{parentName:"p"},"messtechnisch")," mit dem Arduino, den digitalen Wert des Analogeingangs. Analysieren Sie m\xf6gliche ",Object(i.b)("strong",{parentName:"p"},"Abweichungen")," des Messwertes von dem theoretischen Ergebnis.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Bauen Sie eine ",Object(i.b)("strong",{parentName:"p"},"Balkenanzeige"),", bestehend aus 5 bis 7 LEDs und einem Potentiometer, auf. Programmieren Sie Ihre Schaltung so, dass proportional zur Stellung des Potentiometers die Anzahl der leuchtenden LEDs variiert.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Erweitern Sie das Programm zur Aufgabe 1. Anstatt die LEDs einzelend nur an- oder auszuschalten, sollen die LEDs nun einzeln entsprechend der Potistellung ",Object(i.b)("strong",{parentName:"p"},"an- oder ausgedimmt")," werden.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Werte, die \xfcber einen analogen Eingang eingelesen wurden, sollen auf dem ",Object(i.b)("strong",{parentName:"p"},"seriellen Monitor")," mit einer Art ",Object(i.b)("em",{parentName:"p"},"Balkenanzeige")," dargestellt werden. Je gr\xf6\xdfer der eingelesen Wert, desto mehr ",Object(i.b)("inlineCode",{parentName:"p"},">")," werden dargestellt. Die ",Object(i.b)("em",{parentName:"p"},"Balkenanzeige")," soll 25 Balken haben und das Maximum wird durch ",Object(i.b)("inlineCode",{parentName:"p"},"|")," angezeigt.\nMit einem angeschlossenen Potentiometer soll die ",Object(i.b)("em",{parentName:"p"},"Balkenanzeige")," gesteuert werden."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-text"}),"[Serieller Monitor]\n\n>>>>>....................|\n>>>>>>>>>>>>>>...........|\n>>>>>>>>>>>>>>>>>>>>>>...|\n"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"F\xfcgen Sie zur ",Object(i.b)("em",{parentName:"p"},"Balkenanzeige")," noch eine numerisch Angabe des Messwertes in Prozent hinzu."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-text"})," [Serieller Monitor]\n\n >>>>.....................[13%]\n >>>>>>>>.................[32%]\n >>>>>>>>>>>>>>>>.........[62%]\n >>>>>>>>>>>>>>>>>>>>>>...[89%]\n")))))))}p.isMDXComponent=!0}}]);