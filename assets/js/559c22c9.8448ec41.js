"use strict";(self.webpackChunkspacehale=self.webpackChunkspacehale||[]).push([[1002],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>p});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),a=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},u=function(e){var n=a(e.components);return r.createElement(l.Provider,{value:n},e.children)},h={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},k=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),k=a(t),p=i,m=k["".concat(l,".").concat(p)]||k[p]||h[p]||s;return t?r.createElement(m,d(d({ref:n},u),{},{components:t})):r.createElement(m,d({ref:n},u))}));function p(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var s=t.length,d=new Array(s);d[0]=k;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,d[1]=o;for(var a=2;a<s;a++)d[a]=t[a];return r.createElement.apply(null,d)}return r.createElement.apply(null,t)}k.displayName="MDXCreateElement"},8876:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});var r=t(7462),i=(t(7294),t(3905));const s={title:"Die N\xe4herungssensoren",sidebar_label:"N\xe4herungssensoren",custom_edit_url:null},d=void 0,o={unversionedId:"zumo32u4/proxy",id:"zumo32u4/proxy",title:"Die N\xe4herungssensoren",description:"Pololu Zumo 32u4 Library: N\xe4herungssensoren",source:"@site/docs/zumo32u4/proxy.md",sourceDirName:"zumo32u4",slug:"/zumo32u4/proxy",permalink:"/docs/zumo32u4/proxy",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{title:"Die N\xe4herungssensoren",sidebar_label:"N\xe4herungssensoren",custom_edit_url:null},sidebar:"mySidebar",previous:{title:"Liniensensoren",permalink:"/docs/zumo32u4/lineSensor"},next:{title:"Radencoder",permalink:"/docs/zumo32u4/encode"}},l={},a=[{value:"Einf\xfchrung",id:"einf\xfchrung",level:2},{value:"IR-LEDs f\xfcr die Objekterkennung",id:"ir-leds-f\xfcr-die-objekterkennung",level:3},{value:"Das Messprinzip",id:"das-messprinzip",level:3},{value:"Eigenschaften der Objekterkennung",id:"eigenschaften-der-objekterkennung",level:3},{value:"Linien- und N\xe4herungssensoren",id:"linien--und-n\xe4herungssensoren",level:3},{value:"Messen",id:"messen",level:2},{value:"<code>void read()</code>",id:"void-read",level:3},{value:"Konfigurieren",id:"konfigurieren",level:2},{value:"<code>Zumo32U4ProximitySensors()</code>",id:"zumo32u4proximitysensors",level:3},{value:"<code>void initFrontSensor()</code>",id:"void-initfrontsensor",level:3},{value:"<code>void initThreeSensors()</code>",id:"void-initthreesensors",level:3},{value:"<code>void setBrightnessLevels(...)</code>",id:"void-setbrightnesslevels",level:3},{value:"<code>void setPeriod()</code>",id:"void-setperiod",level:3},{value:"Auslesen",id:"auslesen",level:2},{value:"<code>uint8_t countsLeftWithLeftLeds()</code>",id:"uint8_t-countsleftwithleftleds",level:3},{value:"<code>uint8_t countsLeftWithRightLeds()</code>",id:"uint8_t-countsleftwithrightleds",level:3},{value:"<code>uint8_t countsRightWithLeftLeds()</code>",id:"uint8_t-countsrightwithleftleds",level:3},{value:"<code>uint8_t countsRightWithRightLeds()</code>",id:"uint8_t-countsrightwithrightleds",level:3},{value:"<code>uint8_t countsFrontWithLeftLeds()</code>",id:"uint8_t-countsfrontwithleftleds",level:3},{value:"<code>uint8_t countsFrontWithRedLeds()</code>",id:"uint8_t-countsfrontwithredleds",level:3},{value:"Beispielprogramm",id:"beispielprogramm",level:2}],u={toc:a};function h(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("head",null,(0,i.kt)("link",{rel:"canonical",href:"https://spacehal.github.io/docs/zumo32u4/proxy"})),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Pololu Zumo 32u4 Library: ",(0,i.kt)("a",{parentName:"em",href:"https://pololu.github.io/zumo-32u4-arduino-library/class_zumo32_u4_proximity_sensors.html"},"N\xe4herungssensoren"))),(0,i.kt)("p",null,"Mit der Klasse ",(0,i.kt)("inlineCode",{parentName:"p"},"Zumo32U4ProximitySensors")," werden die Methoden f\xfcr die N\xe4herungssensoren bereitgestellt. "),(0,i.kt)("h2",{id:"einf\xfchrung"},"Einf\xfchrung"),(0,i.kt)("p",null,"Der Zumo32u4 hat drei ",(0,i.kt)("strong",{parentName:"p"},"IR-N\xe4herungssensoren")," mit welchem nahe Objekte oder Hindernisse erkannt werden k\xf6nnen. "),(0,i.kt)("img",{src:"/img/zumo32u4/ZumoProxyBottom.jpg",alt:"N\xe4herungssensoren des Zumo",width:"550px",className:"center"}),(0,i.kt)("p",null,"Die N\xe4herungssensoren  geben an, ob (reflektiertes) IR-Licht detektiert wurde oder nicht.  Im Gegensatz zu den Liniensensoren habe die drei N\xe4herungssensoren keinen integrierten IR-Sender. Stattdessen erfassen sie reflektiertes IR-Licht, das von 4 IR-LEDs auf dem Zumo 32U4 Mainboard (auf der Oberseite des Roboters) ausgesendet wird. "),(0,i.kt)("p",null,"Damit die Sensoren nicht irrt\xfcmlich IR-Licht detektieren, welches von fremden Quellen (z.B. dem Tageslicht oder einer Lampe) kommt, wird das IR-Licht mit einer Frequenz von ca. 38 kHz moduliert. Die drei an der Bodenplatine befindlichen IR-Empf\xe4nger (also die N\xe4herungssensoren), k\xf6nnen nur dieses modulierte Licht erkennen und sind damit relativ unempfindlich gegen\xfcber anderen St\xf6rquellen."),(0,i.kt)("p",null,"Die N\xe4herungssensoren sind nach den Richtungen benannt, in die sie zeigen: links, vorne oder rechts. Auf der Platine sind sie mit LFT, FRONT und RGT gekennzeichnet. Das f\xfcr die N\xe4herungssensoren verwendete Bauteil ist das ",(0,i.kt)("a",{parentName:"p",href:"https://www.pololu.com/file/0J615/tssp77038.pdf"},"Vishay TSSP77038 IR-Empf\xe4ngermodul"),". "),(0,i.kt)("p",null,"IR-N\xe4herungssensoren k\xf6nnen auch verwendet werden, um Befehle von herk\xf6mmlichen ",(0,i.kt)("strong",{parentName:"p"},"IR-Fernbedienungen")," zu empfangen. "),(0,i.kt)("h3",{id:"ir-leds-f\xfcr-die-objekterkennung"},"IR-LEDs f\xfcr die Objekterkennung"),(0,i.kt)("p",null,"Auf dem Zumo32u4 Mainboard befinden sich auch 4 IR-LEDs, welche ben\xf6tigt werden, um zusammen mit den 3 IR-N\xe4herungssensoren nahe Objekte erkennen zu k\xf6nnen:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Zwei IR-LEDs (FRONT_LEFT und FRONT_RIGHT) befinden sich an der Vorderseite und sind geeignet Objekt vor dem Roboter zu detektieren."),(0,i.kt)("li",{parentName:"ul"},"Zwei seitliche IR-LEDs sind links und rechts (MIDDLE_LEFT und MIDDLE_RIGHT) an der Hauptplatine angebracht und strahlen IR-Licht zur Seite ab.")),(0,i.kt)("p",null,"Zum Detektieren m\xf6glicher Objekte werden in der Klasse ",(0,i.kt)("inlineCode",{parentName:"p"},"Zumo32U4ProximitySensors")," verschiedene Methoden bereitgestellt, die f\xfcr die einzelnen IR-Sensoren das reflektierte Licht der unterschiedlichen IR-LEDs bestimmen. "),(0,i.kt)("img",{src:"/img/zumo32u4/ZumoIRLED.jpg",alt:"IR-LED Zumo",width:"550px",className:"center"}),(0,i.kt)("h3",{id:"das-messprinzip"},"Das Messprinzip"),(0,i.kt)("p",null,"Die drei IR-N\xe4herungssensoren sind digitale Sensoren, welche nur zwei Zust\xe4nde annehmen k\xf6nnen: Entweder IR-Licht wurde detektiert oder kein IR-Licht wurde detektiert. Information \xfcber die Intensit\xe4t des detektierten Lichtes k\xf6nnen die Sensoren nicht liefern."),(0,i.kt)("p",null,"Um trotzdem zu ermitteln, wieviel IR-Licht ein Objekt reflektiert, kann ",(0,i.kt)("strong",{parentName:"p"},"die Helligkeit der IR-LEDs variiert")," werden und dadurch bestimmt werden, ab welcher Helligkeit der IR-Sensor ",(0,i.kt)("strong",{parentName:"p"},"reflektiertes IR-Licht detektiert"),". In der praktischen Anwendung werden zum Beispiel 10 Messungen mit 10 verschieden Helligkeiten der IR-LEDs durchgef\xfchrt, um dann zu bestimmen, bei welcher Helligkeit der IR-Sensor aktiviert wird. Die Helligkeit der IR-LEDs wird hierbei \xfcber ein PWM-Signal gesteuert."),(0,i.kt)("h3",{id:"eigenschaften-der-objekterkennung"},"Eigenschaften der Objekterkennung"),(0,i.kt)("p",null,"Die verwendeten Sensoren sind nur bedingt f\xfcr die Entfernungsbestimmung von Objekten geeignet. Wie stark das abgestrahlte Infrarotlicht von einem Objekt reflektiert wird, h\xe4ngt von verschiedenen Faktoren wie Farbe, Oberfl\xe4chenbeschaffenheit oder Ausrichtung des Objektes ab. Daher ist es nur schwer m\xf6glich, alleine aus der Information \xfcber die Intensit\xe4t des reflektierten Lichtes die Entfernung eines beliebigen Objektes zu bestimmen. Hierf\xfcr w\xe4ren ",(0,i.kt)("a",{parentName:"p",href:"https://www.sparkfun.com/distance_sensor_comparison_guide"},"anderen Sensoren")," besser geeignet."),(0,i.kt)("p",null,"Beschr\xe4nkt man sich jedoch auf ein Objekt, dessen Reflexionseigenschaften bekannt sind (z.B. eine Box oder einen anderen Roboter), so ist es m\xf6glich aus der Intensit\xe4t des reflektierten Lichtes die Entfernung des Objektes in starker N\xe4herung zu bestimmen."),(0,i.kt)("h3",{id:"linien--und-n\xe4herungssensoren"},"Linien- und N\xe4herungssensoren"),(0,i.kt)("p",null,"Leider hat der vom Zumo32u4 verwendete Mikrocontroller nicht genug freie Ein-/Ausgabe-Pins, damit alle 5 Bodensensoren und alle 3 N\xe4herungssensoren zur selben Zeit betrieben werden k\xf6nnen. Insgesamt k\xf6nnen nie mehr als 6 Sensoren zur gleichen Zeit verwendet werden (3 Linien- und 3 N\xe4herungssensoren, 4 Linien- und 2 N\xe4herungssensoren, 5 Linien- und 1 N\xe4herungssensor). ",(0,i.kt)("strong",{parentName:"p"},"Je nachdem welche Sensoren verwendet werden sollen, m\xfcssen an der Platine f\xfcr die Bodensensoren Jumper-Stecker neu gesetzt werden.")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Wenn alle f\xfcnf Bodensensoren verwendet werden, kann nur der fordere N\xe4herungssensor verwendet werden.")),(0,i.kt)("h2",{id:"messen"},"Messen"),(0,i.kt)("h3",{id:"void-read"},(0,i.kt)("inlineCode",{parentName:"h3"},"void read()")),(0,i.kt)("p",null,"Die Hauptmethode der Klasse, welche die IR-LEDs ansteuert und die Intensit\xe4t des reflektierten IR-Licht misst. Fast alle andern Methoden der Klasse dienen dazu, das Verhalten dieser Methode zu konfigurieren oder auf die Messergebnisse dieser Methode zugreifen zu k\xf6nnen. "),(0,i.kt)("p",null,"Die Methode ",(0,i.kt)("inlineCode",{parentName:"p"},"void read()")," f\xfchrt folgende Aktionen aus:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"N\xe4herungssensoren aktivieren."),(0,i.kt)("li",{parentName:"ol"},"Liniensensoren IR LEDs deaktivieren."),(0,i.kt)("li",{parentName:"ol"},"F\xfcr ",(0,i.kt)("strong",{parentName:"li"},"jeden festgelegten Helligkeitswert")," der LEDs werden folgende Aktionen ausgef\xfchrt:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Startet IR-Pulse mit den beiden IR-LEDs auf der ",(0,i.kt)("em",{parentName:"li"},"linken")," Seite."),(0,i.kt)("li",{parentName:"ol"},"Wertet jeden IR-Sensor aus."),(0,i.kt)("li",{parentName:"ol"},"Schaltet die LED-Pulse aus."),(0,i.kt)("li",{parentName:"ol"},"Startet IR-Pulse mit den beiden IR-LEDs auf der ",(0,i.kt)("em",{parentName:"li"},"rechten")," Seite."),(0,i.kt)("li",{parentName:"ol"},"Wertet jeden IR-Sensor aus."),(0,i.kt)("li",{parentName:"ol"},"Schaltet die LED-Pulse aus.")))),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Die Methode  ",(0,i.kt)("inlineCode",{parentName:"p"},"read()")," hat keinen R\xfcckgabewert. Zum Auslesen der Messwerte werden daher verschieden Methoden bereitgestellt (Abschnitt ",(0,i.kt)("a",{parentName:"p",href:"#auslesen"},(0,i.kt)("em",{parentName:"a"},"Auslesen")),").")),(0,i.kt)("p",null,"Die ",(0,i.kt)("strong",{parentName:"p"},"Helligkeitswerte")," der IR-LEDs k\xf6nnen mit der Methode ",(0,i.kt)("a",{parentName:"p",href:"/docs/zumo32u4/proxy#void-setbrightnesslevels"},(0,i.kt)("inlineCode",{parentName:"a"},"setBrightnessLevels()"))," festgelegt werden. Die Frequenz der IR Pulse, welche standardm\xe4\xdfig 38 kHz betr\xe4gt, kann mit ",(0,i.kt)("inlineCode",{parentName:"p"},"void setPeriod()")," ge\xe4ndert werden (\xe4ndert auch die Empfindlichkeit des IR-Sensors)."),(0,i.kt)("p",null,"Mit den Standardeinstellung ben\xf6tigt die Methode etwa 2,15 Millisekunden pro Helligkeitswert plus 0,62 Millisekunden. Die Anzahl der verwendeten Sensoren hat nur einen geringen Einfluss auf die ben\xf6tigte Zeit."),(0,i.kt)("p",null,"Nach der Methode ",(0,i.kt)("inlineCode",{parentName:"p"},"read()")," sollte zum Auswerten der Ergebnisse eine der ",(0,i.kt)("a",{parentName:"p",href:"#auslesen"},"Auslesemethoden")," aufgerufen werden."),(0,i.kt)("h2",{id:"konfigurieren"},"Konfigurieren"),(0,i.kt)("h3",{id:"zumo32u4proximitysensors"},(0,i.kt)("inlineCode",{parentName:"h3"},"Zumo32U4ProximitySensors()")),(0,i.kt)("p",null,"Konstruktor der ",(0,i.kt)("inlineCode",{parentName:"p"},"Zumo32U4ProximitySensors")," Klasse. "),(0,i.kt)("h3",{id:"void-initfrontsensor"},(0,i.kt)("inlineCode",{parentName:"h3"},"void initFrontSensor()")),(0,i.kt)("p",null,"Konfiguriert das vorher erzeugte Objekt f\xfcr die Verwendung des Frontsensors."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-arduino"},"#inlcude <Zumo32U4.h>\n\nZumo32U4ProximitySensors proxSensor;  // Objekt erzeugen\nproxSensor.initFrontSensor();         // Initialisieren des Frontsensors\n")),(0,i.kt)("h3",{id:"void-initthreesensors"},(0,i.kt)("inlineCode",{parentName:"h3"},"void initThreeSensors()")),(0,i.kt)("p",null,"Konfiguriert das vorher erzeugte Objekt f\xfcr die Verwendung von allen drei N\xe4herungssensoren. Die korrekte Jumpereinstellungen an der Platine f\xfcr die Liniensensoren ist zu beachten."),(0,i.kt)("h3",{id:"void-setbrightnesslevels"},(0,i.kt)("inlineCode",{parentName:"h3"},"void setBrightnessLevels(...)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void setBrightnessLevels (uint16_t *levels, uint8_t levelCount)")),(0,i.kt)("p",null,"Legt eine Reihe von Helligkeitswerten f\xfcr die IR-LED fest, welche von der Methode ",(0,i.kt)("inlineCode",{parentName:"p"},"read()")," verwendet wird. Wird die Methode ",(0,i.kt)("inlineCode",{parentName:"p"},"setBrightnessLevels")," nicht genutzt, so werden f\xfcr die IR-LEDs die Standardwerte 4, 15, 32, 55, 85 und 120 verwendet. Sinnvolle Werte liegen zwischen 1 und 128."),(0,i.kt)("p",null,"Parameter"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"levels")," Pointer zu einem Array mit Helligkeitswerten"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"levelCount")," Anzahl der Helligkeitswerte")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-arduino"},"#inlcude <Zumo32U4.h>\n\nZumo32U4ProximitySensors proxySensors;                       // Objekt erzeugen\n\nuint16_t levels[] = {2, 4, 8, 16, 32, 64, 128};             // Array f\xfcr Helligkeitswerte\nproxySensors.setBrightnessLevels(levels, sizeof(levels)/sizeof(levels[0]));    // Helligkeitswerte festlegen\n")),(0,i.kt)("h3",{id:"void-setperiod"},(0,i.kt)("inlineCode",{parentName:"h3"},"void setPeriod()")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void setPeriod (uint16_t period)")),(0,i.kt)("h2",{id:"auslesen"},"Auslesen"),(0,i.kt)("p",null,"F\xfcr das Auswerten der mit ",(0,i.kt)("a",{parentName:"p",href:"/docs/zumo32u4/proxy#void-read"},(0,i.kt)("inlineCode",{parentName:"a"},"read()"))," durchgef\xfchrten Messung gibt es verschieden Methoden, welche sich in der Kombination von IR Sensor und IR LED unterscheiden. "),(0,i.kt)("img",{src:"/img/zumo32u4/ZumoProxyTop.png",alt:"Naeherungssensor des Zumo 32U4",width:"500px",className:"center"}),(0,i.kt)("p",null,"F\xfcr jeden IR Sensor (",(0,i.kt)("em",{parentName:"p"},"Left, Front, Right"),") stehen zwei Methoden zur Verf\xfcgung. Die Methoden geben an, bei wie vielen Helligkeitswerten der linken (",(0,i.kt)("em",{parentName:"p"},"Left LEDs"),") oder rechten LED (",(0,i.kt)("em",{parentName:"p"},"Right LEDs"),") der IR Sensor Licht detektiert hat."),(0,i.kt)("h3",{id:"uint8_t-countsleftwithleftleds"},(0,i.kt)("inlineCode",{parentName:"h3"},"uint8_t countsLeftWithLeftLeds()")),(0,i.kt)("p",null,"Gibt die ",(0,i.kt)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der ",(0,i.kt)("strong",{parentName:"p"},"linken LEDs")," zur\xfcck, bei denen der ",(0,i.kt)("strong",{parentName:"p"},"linke N\xe4herungssensor")," aktiviert wurde."),(0,i.kt)("h3",{id:"uint8_t-countsleftwithrightleds"},(0,i.kt)("inlineCode",{parentName:"h3"},"uint8_t countsLeftWithRightLeds()")),(0,i.kt)("p",null,"Gibt die ",(0,i.kt)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der ",(0,i.kt)("strong",{parentName:"p"},"rechten LEDs")," zur\xfcck, bei denen der ",(0,i.kt)("strong",{parentName:"p"},"linke N\xe4herungssensor")," aktiviert wurde."),(0,i.kt)("h3",{id:"uint8_t-countsrightwithleftleds"},(0,i.kt)("inlineCode",{parentName:"h3"},"uint8_t countsRightWithLeftLeds()")),(0,i.kt)("p",null,"Gibt die ",(0,i.kt)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der ",(0,i.kt)("strong",{parentName:"p"},"linken LEDs")," zur\xfcck, bei denen der ",(0,i.kt)("strong",{parentName:"p"},"rechte N\xe4herungssensor")," aktiviert wurde."),(0,i.kt)("h3",{id:"uint8_t-countsrightwithrightleds"},(0,i.kt)("inlineCode",{parentName:"h3"},"uint8_t countsRightWithRightLeds()")),(0,i.kt)("p",null,"Gibt die ",(0,i.kt)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der ",(0,i.kt)("strong",{parentName:"p"},"rechten LEDs")," zur\xfcck, bei denen der ",(0,i.kt)("strong",{parentName:"p"},"rechte N\xe4herungssensor")," aktiviert wurde."),(0,i.kt)("h3",{id:"uint8_t-countsfrontwithleftleds"},(0,i.kt)("inlineCode",{parentName:"h3"},"uint8_t countsFrontWithLeftLeds()")),(0,i.kt)("p",null,"Gibt die ",(0,i.kt)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der ",(0,i.kt)("strong",{parentName:"p"},"linken LEDs")," zur\xfcck, bei denen der ",(0,i.kt)("strong",{parentName:"p"},"mittlere N\xe4herungssensor")," aktiviert wurde."),(0,i.kt)("h3",{id:"uint8_t-countsfrontwithredleds"},(0,i.kt)("inlineCode",{parentName:"h3"},"uint8_t countsFrontWithRedLeds()")),(0,i.kt)("p",null,"Gibt die ",(0,i.kt)("strong",{parentName:"p"},"Anzahl")," der Helligkeitswerte der ",(0,i.kt)("strong",{parentName:"p"},"rechten LEDs")," zur\xfcck, bei denen der ",(0,i.kt)("strong",{parentName:"p"},"mittlere N\xe4herungssensor")," aktiviert wurde."),(0,i.kt)("h2",{id:"beispielprogramm"},"Beispielprogramm"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-arduino"},"/* Einfaches Beispielprogramm, bei dem die Messewerte des Front-IR-Sensors ausgegeben\n    werden. Wird ein Objekt erkannt, so wird dies auf dem LCD-Display angezeigt. */\n\n#include <Zumo32U4.h>\n\nZumo32U4LCD lcd;\nZumo32U4ProximitySensors proxySensors;\n\nint schwellwert = 4;    // Schwellwert f\xfcr die Objekterkennung\n\nvoid setup()\n{\n  // Initialisierung des vorderen IR Sensors. In dieser Konfiguration \n  // werden die beiden seitlichen IR Sensoren nicht verwendet.\n  proxySensors.initFrontSensor();\n\n  // Die Werte des level[] Arrays geben die Intensit\xe4ten der IR LEDs an. Je h\xf6her der Wert,\n  // desto wahrscheinlicher, dass ein Objekt das Licht reflektiert und der IR Sensor es detektiert.\n  int levels[] = { 2, 3, 4, 6, 9, 14, 25, 40, 70};\n  proxySensors.setBrightnessLevels(levels, sizeof(levels)/sizeof(levels[0]));\n  \n  lcd.clear();              // Display l\xf6schen\n}\n\nvoid loop()\n{\n  proxySensors.read();  // Wertet den vorderen IR Sensor mit den IR-LEDs links und rechts aus.\n\n  // Anzahl der Werte, bei denen der IR Sensor Licht detektiert hat.\n  int wertLinks = proxySensors.countsFrontWithLeftLeds();    \n  int wertRechts = proxySensors.countsFrontWithRightLeds();\n\n  // Bestimmen, ob ein Objekt erkannt wurde (|| - ODER)\n  bool objektErkannt = wertLinks >= schwellwert || wertRechts >= schwellwert;\n  \n  ledRed(objektErkannt);    // Led wird angeschaltet, wenn ein Objekt wurde erkannt\n  lcd.gotoXY(0, 0);         // Ausgabe auf dem LCD-Display\n  lcd.print(wertLinks);\n  lcd.print(' ');\n  lcd.print(wertRechts);\n}\n")))}h.isMDXComponent=!0}}]);