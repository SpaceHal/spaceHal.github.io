"use strict";(self.webpackChunkspace_hal_2=self.webpackChunkspace_hal_2||[]).push([[5786],{2170:function(e,a,t){t.r(a),t.d(a,{contentTitle:function(){return h},default:function(){return v},frontMatter:function(){return g},metadata:function(){return u},toc:function(){return w}});var n=t(3117),s=t(102),r=t(7294),m=t(3905),i=t(3786),p=[{xTime:10068,speed:0,error:2e3,integral:2e3,power:200},{xTime:20112,speed:349,error:1651,integral:3651,power:365},{xTime:30112,speed:1150,error:850,integral:4e3,power:400},{xTime:40108,speed:1750,error:250,integral:4e3,power:400},{xTime:50108,speed:2250,error:-250,integral:3750,power:375},{xTime:60124,speed:2650,error:-650,integral:3100,power:310},{xTime:70116,speed:2800,error:-800,integral:2300,power:230},{xTime:80112,speed:2800,error:-800,integral:1500,power:150},{xTime:90128,speed:2648,error:-648,integral:852,power:85},{xTime:100124,speed:2399,error:-399,integral:453,power:45},{xTime:110144,speed:1847,error:153,integral:606,power:60},{xTime:120140,speed:1648,error:352,integral:958,power:95},{xTime:130148,speed:1448,error:552,integral:1510,power:151},{xTime:140156,speed:1449,error:551,integral:2061,power:206},{xTime:150156,speed:1650,error:350,integral:2411,power:241},{xTime:160160,speed:1700,error:300,integral:2711,power:271},{xTime:170164,speed:1849,error:151,integral:2862,power:286},{xTime:180164,speed:2148,error:-148,integral:2714,power:271},{xTime:190172,speed:2350,error:-350,integral:2364,power:236},{xTime:200176,speed:2399,error:-399,integral:1965,power:196},{xTime:210168,speed:2400,error:-400,integral:1565,power:156},{xTime:220176,speed:2248,error:-248,integral:1317,power:131},{xTime:230204,speed:2097,error:-97,integral:1220,power:122},{xTime:240208,speed:1945,error:55,integral:1275,power:127},{xTime:250224,speed:1699,error:301,integral:1576,power:157},{xTime:260220,speed:1797,error:203,integral:1779,power:177},{xTime:270232,speed:1747,error:253,integral:2032,power:203},{xTime:280236,speed:1749,error:251,integral:2283,power:228},{xTime:290264,speed:1847,error:153,integral:2436,power:243},{xTime:300248,speed:2150,error:-150,integral:2286,power:228},{xTime:310256,speed:2050,error:-50,integral:2236,power:223},{xTime:320260,speed:2099,error:-99,integral:2137,power:213},{xTime:330260,speed:2248,error:-248,integral:1889,power:188},{xTime:340276,speed:2198,error:-198,integral:1691,power:169},{xTime:350268,speed:2050,error:-50,integral:1641,power:164},{xTime:360276,speed:1949,error:51,integral:1692,power:169},{xTime:370292,speed:1996,error:4,integral:1696,power:169},{xTime:380304,speed:1948,error:52,integral:1748,power:174},{xTime:390312,speed:1897,error:103,integral:1851,power:185},{xTime:400324,speed:1847,error:153,integral:2004,power:200},{xTime:410332,speed:2e3,error:0,integral:2004,power:200},{xTime:420340,speed:1999,error:1,integral:2005,power:200},{xTime:430344,speed:1949,error:51,integral:2056,power:205},{xTime:440340,speed:2048,error:-48,integral:2008,power:200},{xTime:450344,speed:2049,error:-49,integral:1959,power:195},{xTime:460352,speed:1999,error:1,integral:1960,power:196},{xTime:470364,speed:1999,error:1,integral:1961,power:196},{xTime:480356,speed:2099,error:-99,integral:1862,power:186},{xTime:490372,speed:1997,error:3,integral:1865,power:186}],l=["#4e4752","#D62828","#39998f","#bd86a8"];i.kL.defaults.font.size=15,i.kL.defaults.color="black",i.kL.defaults.font.family="Avenir",i.kL.defaults.elements.point=0,i.kL.defaults.datasets.cubicInterpolationMode="monotone",i.kL.defaults.plugins.legend.align="end";var o=2e3/p.length,d={parsing:{xAxisKey:"xTime"},animation:{x:{type:"number",easing:"linear",duration:o,from:NaN,delay:function(e){return"data"!==e.type||e.xStarted?0:(e.xStarted=!0,e.index*o)}},y:{type:"number",easing:"linear",duration:o,from:function(e){return 0===e.index?e.chart.scales.y.getPixelForValue(100):e.chart.getDatasetMeta(e.datasetIndex).data[e.index-1].getProps(["y"],!0).y},delay:function(e){return"data"!==e.type||e.yStarted?0:(e.yStarted=!0,e.index*o)}}},interaction:{intersect:!1},responsive:!0,plugins:{filler:{propagate:!0},legend:{position:"top",font:{weight:"normal"},labels:{boxWidth:15,boxHeight:10}},title:{display:!0,text:"Integralregler f\xfcr die Geschwindigkeit (in Impulse pro Sekunde)",font:{weight:"normal",size:16.5}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.7)",titleColor:"#474747",bodyColor:"#474747",cornerRadius:2,displayColors:!1,borderColor:"#474747",borderWidth:1}},scales:{x:{grid:{borderWidth:1,borderColor:"black",drawBorder:!1,color:function(e){return 0===e.tick.value?"Black":"LightGrey"},lineWidth:function(e){return 0===e.tick.value?1:.5},drawTicks:!1},ticks:{autoSkipPadding:50,maxRotation:0,padding:20},title:{display:!0,text:"Zeit in ms",align:"center",font:{weight:"italic"}}},y:{grid:{borderWidth:1,borderColor:"black",drawBorder:!1,color:function(e){return 0===e.tick.value?"Black":"LightGrey"},lineWidth:function(e){return 0===e.tick.value?1:.5},drawTicks:!1},ticks:{min:-1e3,max:4005,autoSkipPadding:25,padding:20,beginAtZero:!0},title:{display:!1,text:"Impulse pro Sekunde oder Motorsignal",align:"center",font:{weight:"italic"}},offset:!1,beginAtZero:!0}},datasets:{line:{borderWidth:2}}},N={type:"line",data:{labels:p.map((function(e){return Math.round(e.xTime/1e3)+" ms"})),datasets:[{label:"aktuelle Geschwindigkeit",data:p,hidden:!0,cubicInterpolationMode:"monotone",borderColor:l[0],backgroundColor:l[0],parsing:{yAxisKey:"speed"}},{label:"Fehler",data:p,cubicInterpolationMode:"monotone",borderColor:l[1],backgroundColor:l[1],parsing:{yAxisKey:"error"}},{label:"Integral-Anteil",data:p,cubicInterpolationMode:"monotone",borderColor:l[2],backgroundColor:l[2],hidden:!1,parsing:{yAxisKey:"integral"}},{label:"Motorwert",data:p,cubicInterpolationMode:"monotone",borderColor:l[3],backgroundColor:l[3],hidden:!0,parsing:{yAxisKey:"power"}}]}},k=function(){return r.createElement("div",{className:"chartwrapper"},r.createElement(i.x1,{data:N.data,options:d,width:100,height:60}))},c=["components"],g={id:"speedControl",title:"Ein Integralregler f\xfcr die Geschwindigkeit",sidebar_label:"Geschwindigkeitsregler",description:"Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit des Zumo 32u4 Roboters geregelt.",custom_edit_url:null,keywords:["Arduino","Roboter","Robotik","Gesschwindigkeit regeln","Quadraturencoder","Inkrementalgeber","Radencoder","Motorencoder","Integralregler","Integral-Regler","I-Regler","Zumo 32u4"]},h=void 0,u={unversionedId:"robotik/speedControl",id:"robotik/speedControl",isDocsHomePage:!1,title:"Ein Integralregler f\xfcr die Geschwindigkeit",description:"Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit des Zumo 32u4 Roboters geregelt.",source:"@site/docs/robotik/speedControl.mdx",sourceDirName:"robotik",slug:"/robotik/speedControl",permalink:"/docs/robotik/speedControl",editUrl:null,tags:[],version:"current",frontMatter:{id:"speedControl",title:"Ein Integralregler f\xfcr die Geschwindigkeit",sidebar_label:"Geschwindigkeitsregler",description:"Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit des Zumo 32u4 Roboters geregelt.",custom_edit_url:null,keywords:["Arduino","Roboter","Robotik","Gesschwindigkeit regeln","Quadraturencoder","Inkrementalgeber","Radencoder","Motorencoder","Integralregler","Integral-Regler","I-Regler","Zumo 32u4"]},sidebar:"sideBarRobotik",previous:{title:"Ge\xadra\xadde\xadaus\xadfahrt",permalink:"/docs/robotik/goStraight"},next:{title:"Anwendung: Barcode",permalink:"/docs/robotik/botBarcode"}},w=[{value:"Vorbetrachtungen",id:"vorbetrachtungen",children:[],level:2},{value:"Integral-Regler",id:"integral-regler",children:[{value:"Beispiel Geschwindigkeitsregelung",id:"beispiel-geschwindigkeitsregelung",children:[],level:3},{value:"Integralanteil beschr\xe4nken",id:"integralanteil-beschr\xe4nken",children:[],level:3}],level:2},{value:"Pseudocode I-Regler",id:"pseudocode-i-regler",children:[],level:2},{value:"Pseudocode PI-Regler",id:"pseudocode-pi-regler",children:[],level:2}],b={toc:w};function v(e){var a=e.components,t=(0,s.Z)(e,c);return(0,m.kt)("wrapper",(0,n.Z)({},b,t,{components:a,mdxType:"MDXLayout"}),(0,m.kt)("p",null,"Mit den ",(0,m.kt)("a",{parentName:"p",href:"/docs/robotik/wheelEncoder"},"Motor-Encodern")," kann der Roboter nicht nur ",(0,m.kt)("a",{parentName:"p",href:"/docs/robotik/goStraight"},"geradeaus fahren")," oder eine ",(0,m.kt)("a",{parentName:"p",href:"/docs/robotik/wheelEncoder/#aufgaben"},"festgelegte Distanz")," zur\xfccklegen, sondern es ist damit auch m\xf6glich, die Geschwindigkeit des Roboters zu regeln. Ohne Geschwindigkeitsregelung w\xfcrde zum Beispiel ein fester PWM-Wert f\xfcr den Motor bei abnehmender Batteriespannung zu einem langsamer fahrenden Roboter f\xfchren. "),(0,m.kt)("h2",{id:"vorbetrachtungen"},"Vorbetrachtungen"),(0,m.kt)("p",null,"Aber wie w\xfcrde ein Regler f\xfcr die Geschwindigkeit aussehen? Vom Linienfolger ist bereits der ",(0,m.kt)("a",{parentName:"p",href:"/docs/robotik/edge_P_Control/#proportional-regler-p-controller"},"Proportionalregler")," bekannt. Angenommen, der Roboter soll mit einer Geschwindigkeit von 2000 Encoder-Impulsen pro Sekunde fahren. Dann w\xfcrde sich die Regelabweichung (also der Fehler) wie folgt berechnen:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"fehler = geschwindigkeit - 2000       // Geschwindigkeit in Impulsen pro Sekunde\n")),(0,m.kt)("p",null,"Mit dem ",(0,m.kt)("a",{parentName:"p",href:"/docs/robotik/edge_P_Control/#proportional-regler-p-controller"},"Proportionalregler")," w\xfcrde dann das Motorsignal f\xfcr die ",(0,m.kt)("inlineCode",{parentName:"p"},"setSpeeds()"),"-Funktion bestimmt werden:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"motorSignal = kp * fehler             // P-Regler f\xfcr das Motorsignal\nsetSpeeds(motorSignal,motorSignal)    // einstellen der Geschwindigkeit\n")),(0,m.kt)("p",null,"Aber was w\xfcrde passieren, wenn sich der Roboter mit Sollgeschwindigkeit (also 2000 Impulsen pro Sekunde) fortbewegt? Der Fehler w\xfcrde null sein ",(0,m.kt)("inlineCode",{parentName:"p"},"fehler = 0")," und dadurch w\xfcrde sich auch f\xfcr das Motorsignal der Wert null ergeben. Der Roboter w\xfcrde also stehen bleiben. "),(0,m.kt)("p",null,"Ein Proportional-Regler, der das Motorsignal einfach nur proportional zum Fehler bestimmt, ist also zur Regelung der Geschwindigkeit ungeeignet."),(0,m.kt)("p",null,"Ebenfalls ist der ",(0,m.kt)("a",{parentName:"p",href:"/docs/robotik/lineFollowerPD#differential-anteil"},"Differential-Regler")," ungeeignet, da er nur auf \xc4nderungen des Fehlers eingeht. Steht der Roboter einfach nur still, so \xe4ndert sich der Fehler nicht und es w\xfcrde sich f\xfcr das Motorsignal nur der Wert 0 ergeben."),(0,m.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,m.kt)("div",{parentName:"div",className:"admonition-heading"},(0,m.kt)("h5",{parentName:"div"},(0,m.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,m.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,m.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\xdcBEN")),(0,m.kt)("div",{parentName:"div",className:"admonition-content"},(0,m.kt)("ol",{parentName:"div"},(0,m.kt)("li",{parentName:"ol"},(0,m.kt)("p",{parentName:"li"},"Beschreiben Sie weitere Situationen, in denen es sinnvoll ist die Motordrehzahl zu regeln.")),(0,m.kt)("li",{parentName:"ol"},(0,m.kt)("p",{parentName:"li"},"Lassen Sie den Roboter \xfcber eine Zeit von ca. 0,5 Sekunden mit verschiedenen Geschwindigkeiten (200, 300, 400) fahren. Bestimmen sie gleichzeitig die ",(0,m.kt)("strong",{parentName:"p"},"aktuelle Geschwindigkeit in Impulsen pro Sekunde"),".",(0,m.kt)("br",{parentName:"p"}),"\n","Geben Sie sowohl die Zeit als auch die Geschwindigkeit w\xe4hrend des Beschleunigungsvorgangs auf dem seriellen Monitor aus.",(0,m.kt)("br",{parentName:"p"}),"\n","Stellen Sie abschlie\xdfend ihr Ergebnisse mit einem geeignetem Programm (z.B. ",(0,m.kt)("a",{parentName:"p",href:"https://support.microsoft.com/de-de/topic/darstellen-von-daten-im-punkt-oder-liniendiagramm-4570a80f-599a-4d6b-a155-104a9018b86e#OfficeVersion=Windows"},"Excel")," oder Openoffice) graphisch dar (y-Achse: Impulse pro Sekunde, x-Achse: Zeit in Millisekudnen) und beantworten Sie folgende Fragen:  "),(0,m.kt)("ol",{parentName:"li"},(0,m.kt)("li",{parentName:"ol"},"Wie lange ben\xf6tigt der Roboter, bis er seine jeweilige Maximalgeschwindigkeit erreicht hat?"),(0,m.kt)("li",{parentName:"ol"},"Welcher Funktionstyp beschreibt den Zusammenhang zwischen Zeit und Geschwindigkeit am besten.   ")),(0,m.kt)("p",{parentName:"li"},(0,m.kt)("strong",{parentName:"p"},"Hinweise")," f\xfcr die Bearbeitung"),(0,m.kt)("ul",{parentName:"li"},(0,m.kt)("li",{parentName:"ul"},(0,m.kt)("p",{parentName:"li"},"Nutzen Sie f\xfcr eine bessere Genauigkeit bei der Zeitmessung die ",(0,m.kt)("a",{parentName:"p",href:"https://www.arduino.cc/reference/de/language/functions/time/micros/"},(0,m.kt)("inlineCode",{parentName:"a"},"micros()"))," Funktion.")),(0,m.kt)("li",{parentName:"ul"},(0,m.kt)("p",{parentName:"li"},"Trennen sie beide Werte mit einem Tabulator (",(0,m.kt)("inlineCode",{parentName:"p"},"\\t"),"):  "),(0,m.kt)("pre",{parentName:"li"},(0,m.kt)("code",{parentName:"pre"},'Serial.print(zeit), Serial.print("\\t"),Serial.println(geschwindigkeit);\n'))),(0,m.kt)("li",{parentName:"ul"},(0,m.kt)("p",{parentName:"li"},"Messen Sie die Geschwindigkeit in einem Zeitintervall, welches im Mittel ca. 50 Impulse detektiert (ca. 20 ms).  ")),(0,m.kt)("li",{parentName:"ul"},(0,m.kt)("p",{parentName:"li"},"Verwenden Sie die Programmvorlage:  "),(0,m.kt)("pre",{parentName:"li"},(0,m.kt)("code",{parentName:"pre"},"/***************   Programmvorlage zur Geschwindigkeitsmessung   ***************\n\n Zum Bestimmen der Geschwindigkeit sollten in einem festen Zeitintervall `dZeit` die\n Encoder-Impulse der R\xe4der bestimmt werden. Damit die Ergebnisse nicht zu stark schwanken\n (Quantisierungsfehler), sollte das Zeitintervall in welchem die Encoder-Impulse bestimmt\n werden so festgelegt sein, das im Mittel ca. 50 Impulse detektiert werden. */\n\n/*  ... Ihr Code ... */\nint dZeit = 20000;                                     // 20 000 Mikrosekunden\n\nmotors.setSpeeds(MOTOR_POWER, MOTOR_POWER);\nwhile (jetzt - startZeit < AN_ZEIT) {                  // Messung dauert insgesamt ON_TIME\n  jetzt = micros();                                    // Nutzen Sie micros() f\xfcr eine bessere Genauigkeit\n  \n  if (jetzt - letztesMal >= dZeit) { \n    letztesMal = jetzt;\n    int ticksLeft = encoders.getCountsAndResetRight(); // Impulse auslesen und zur\xfccksetzen\n    int ticksRight = encoders.getCountsAndResetLeft();\n    /*\n      Ihr Code ...\n    */ \n\n  } //if\n} //while\n/*  ... Ihr Code ... */\n")))))))),(0,m.kt)("h2",{id:"integral-regler"},"Integral-Regler"),(0,m.kt)("p",null,"Die Abbildung stellt das Verhalten eines Integral-Reglers zur Geschwindigkeitsreglung dar. Die Sollgeschwindigkeit betr\xe4gt 2000 Impulse pro Sekunde."),(0,m.kt)(k,{mdxType:"LineChart"}),(0,m.kt)("p",null,"Ein weiterer, bisher nicht besprochener Regler ist der Integralregler. Der ",(0,m.kt)("strong",{parentName:"p"},"Integralregler")," (I-Regler) \xe4ndert die Stellgr\xf6\xdfe nicht proportional zum Fehler wie der Proportionalregler oder in Abh\xe4ngigkeit von der \xc4nderung des Fehlers wie der Differentialregler, sondern basierend auf der Summe (oder dem Integral) der vorhergehenden Fehler. "),(0,m.kt)("p",null,"Mit andern Worten formuliert, der Integralanteil gibt dem Regler ein ",(0,m.kt)("strong",{parentName:"p"},"Ged\xe4chtnis der Fehler"),", wodurch ",(0,m.kt)("strong",{parentName:"p"},"Abweichungen")," von der Sollgr\xf6\xdfe, die ",(0,m.kt)("strong",{parentName:"p"},"\xfcber einen langen Zeitraum")," bestehen, besonders ber\xfccksichtigt werden. Im Fall"),(0,m.kt)("p",null,"Aus mathematischer Sicht entspricht dieses Ged\xe4chtnis dem ",(0,m.kt)("strong",{parentName:"p"},"Aufsummieren der Fehler")," oder auch dem ",(0,m.kt)("a",{parentName:"p",href:"https://de.wikipedia.org/wiki/Regler#I-Regler_(I-Anteil)"},"Integral der Fehler")," \xfcber die Zeit."),(0,m.kt)("div",{className:"math math-display"},(0,m.kt)("span",{parentName:"div",className:"katex-display"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msubsup",{parentName:"mrow"},(0,m.kt)("mo",{parentName:"msubsup"},"\u222b"),(0,m.kt)("mn",{parentName:"msubsup"},"0"),(0,m.kt)("mi",{parentName:"msubsup"},"t")),(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("mi",{parentName:"mrow"},"t"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mtext",{parentName:"mrow"},"\xa0d"),(0,m.kt)("mi",{parentName:"mrow"},"t"),(0,m.kt)("mo",{parentName:"mrow"},"\u2248"),(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"t"),(0,m.kt)("mn",{parentName:"msub"},"0")),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mtext",{parentName:"mrow"},"\xa0"),(0,m.kt)("mo",{parentName:"mrow"},"\u22c5"),(0,m.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,m.kt)("mi",{parentName:"mrow"},"t"),(0,m.kt)("mo",{parentName:"mrow"},"+"),(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"t"),(0,m.kt)("mn",{parentName:"msub"},"1")),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mtext",{parentName:"mrow"},"\xa0"),(0,m.kt)("mo",{parentName:"mrow"},"\u22c5"),(0,m.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,m.kt)("mi",{parentName:"mrow"},"t"),(0,m.kt)("mo",{parentName:"mrow"},"+"),(0,m.kt)("mo",{parentName:"mrow"},"\u22ef"),(0,m.kt)("mo",{parentName:"mrow"},"="),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"t"),(0,m.kt)("mn",{parentName:"msub"},"0")),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mo",{parentName:"mrow"},"+"),(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"t"),(0,m.kt)("mn",{parentName:"msub"},"1")),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mo",{parentName:"mrow"},"+"),(0,m.kt)("mo",{parentName:"mrow"},"\u22ef"),(0,m.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mtext",{parentName:"mrow"},"\xa0"),(0,m.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,m.kt)("mi",{parentName:"mrow"},"t")),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\int_{0}^{t} e(t) \\text{ d}t \\approx e(t_0)\\ \\cdot \\Delta t + e(t_1)\\ \\cdot \\Delta t + \\cdots = ( e(t_0) + e(t_1) + \\cdots )\\ \\Delta t")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"2.455406em",verticalAlign:"-0.9119499999999999em"}}),(0,m.kt)("span",{parentName:"span",className:"mop"},(0,m.kt)("span",{parentName:"span",className:"mop op-symbol large-op",style:{marginRight:"0.44445em",position:"relative",top:"-0.0011249999999999316em"}},"\u222b"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.5434560000000002em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-1.7880500000000001em",marginLeft:"-0.44445em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"0")))),(0,m.kt)("span",{parentName:"span",style:{top:"-3.8129000000000004em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"t"))))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.9119499999999999em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mord text"},(0,m.kt)("span",{parentName:"span",className:"mord"},"\xa0d")),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,m.kt)("span",{parentName:"span",className:"mrel"},"\u2248"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.30110799999999993em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"0")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace"},"\xa0"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"\u22c5"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.76666em",verticalAlign:"-0.08333em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"+"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.30110799999999993em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"1")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace"},"\xa0"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"\u22c5"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.76666em",verticalAlign:"-0.08333em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"+"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.36687em",verticalAlign:"0em"}}),(0,m.kt)("span",{parentName:"span",className:"minner"},"\u22ef"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,m.kt)("span",{parentName:"span",className:"mrel"},"="),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.30110799999999993em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"0")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"+"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.30110799999999993em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"1")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"+"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"minner"},"\u22ef"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace"},"\xa0"),(0,m.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t")))))),(0,m.kt)("h3",{id:"beispiel-geschwindigkeitsregelung"},"Beispiel Geschwindigkeitsregelung"),(0,m.kt)("p",null,"F\xfcr den Pseudocode kann das Integral mit Hilfe der einzelnen Summen ",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"t"),(0,m.kt)("mi",{parentName:"msub"},"i")),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mo",{parentName:"mrow"},"\u22c5"),(0,m.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,m.kt)("mi",{parentName:"mrow"},"t")),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t_i)\\cdot \\Delta t")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.31166399999999994em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"\u22c5"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t")))))," berechnet werden. Zu jedem neuen Zeitpunkt wird zu dem bereits berechneten Integral-Wert der neue Fehler ",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("mi",{parentName:"mrow"},"e"),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"t"),(0,m.kt)("mi",{parentName:"msub"},"i")),(0,m.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,m.kt)("mo",{parentName:"mrow"},"\u22c5"),(0,m.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,m.kt)("mi",{parentName:"mrow"},"t")),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t_i)\\cdot \\Delta t")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"mopen"},"("),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.31166399999999994em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))),(0,m.kt)("span",{parentName:"span",className:"mclose"},")"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,m.kt)("span",{parentName:"span",className:"mbin"},"\u22c5"),(0,m.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"t")))))," hinzuaddiert. Dadurch wird aus dem  komplizierten Integral eine sehr einfache Addition:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"integral = integral + error * dTime // Aufsummieren des Fehler zum Integralanteil\n")),(0,m.kt)("p",null,"Der Integralanteil wird zu einer einfachen Summe, wenn bei ",(0,m.kt)("strong",{parentName:"p"},"konstanten Zeitintervallen")," die Multiplikation mit ",(0,m.kt)("inlineCode",{parentName:"p"},"dTime")," weggelassen wird:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"integral = integral + error // Aufaddieren des Fehlers liefert den Integralanteil\n")),(0,m.kt)("p",null,"Zur Regelung der Motorgeschwindigkeit wird der Integral-Anteil, \xe4hnlich wie der Proportional-Anteil, mit einem Faktor ",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"k"),(0,m.kt)("mi",{parentName:"msub"},"i"))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_i")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.84444em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.31166399999999994em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"}))))))))))," gewichtet. F\xfcr die Geschwindigkeits\xe4nderung ",(0,m.kt)("inlineCode",{parentName:"p"},"deltaSpeed")," ergibt sich dann folgender Pseudocode:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"integral    = integral + error     // Aufsummieren der Fehler\nmotorSignal = integral * ki        // I-Regler mit den Faktoren kp und ki\n")),(0,m.kt)("h3",{id:"integralanteil-beschr\xe4nken"},"Integralanteil beschr\xe4nken"),(0,m.kt)("p",null,"Wird der ",(0,m.kt)("strong",{parentName:"p"},"Integralanteil nicht unendlich gro\xdf"),", wenn der Fehler kontinuierlich aufaddiert wird?"),(0,m.kt)("p",null,"Im Prinzip sollte der Integral-Anteil nicht unendlich gro\xdf werden, da der Fehler sowohl positiv, als auch negativ sein kann und sich beim Aufaddieren somit ausgleichen w\xfcrde. In der Praxis sieht es jedoch oft anders aus und der ",(0,m.kt)("strong",{parentName:"p"},"Integralanteil")," kann ",(0,m.kt)("strong",{parentName:"p"},"unerw\xfcnscht gro\xdfe Werte")," annehmen. "),(0,m.kt)("p",null,"Besteht f\xfcr eine ",(0,m.kt)("em",{parentName:"p"},"lange Zeit")," ein positiver Fehler (zum Beispiel durch eine enge Kurve) so ergibt sich ein recht gro\xdfer Integralanteil. Wird durch den Regler der Fehler nach einer Weile wieder auf Null oder ein wenig ins Negative gebracht, w\xe4re das Ziel erreicht, und der Roboter bef\xe4nde sich auf der Linie. Das Problem ist jedoch, dass der bereits stark angewachsene positive Integralanteil durch das Aufaddieren von wenigen negativen Fehlerwerten nicht schnell genug auf Null zur\xfcckgeht. "),(0,m.kt)("p",null,"Bei der Berechnung von ",(0,m.kt)("inlineCode",{parentName:"p"},"deltaSpeed")," w\xfcrde der Integralanteil also immer noch den aufaddierten positiven Fehler korrigieren wollen, w\xe4hrend der Roboter bereits wieder \xfcber der Linie ist. Daher macht es Sinn, ",(0,m.kt)("strong",{parentName:"p"},"f\xfcr den Integral-Anteil nur eine bestimmte Anzahl von Fehlerwerten zu ber\xfccksichtigen.")),(0,m.kt)("p",null,"Wird nur der aktuelle Fehler (",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"e"),(0,m.kt)("mi",{parentName:"msub"},"n"))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e_n")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.58056em",verticalAlign:"-0.15em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.151392em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"n")))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,m.kt)("span",{parentName:"span"})))))))))),") und der vorhergehenden Fehler (",(0,m.kt)("span",{parentName:"p",className:"math math-inline"},(0,m.kt)("span",{parentName:"span",className:"katex"},(0,m.kt)("span",{parentName:"span",className:"katex-mathml"},(0,m.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,m.kt)("semantics",{parentName:"math"},(0,m.kt)("mrow",{parentName:"semantics"},(0,m.kt)("msub",{parentName:"mrow"},(0,m.kt)("mi",{parentName:"msub"},"e"),(0,m.kt)("mrow",{parentName:"msub"},(0,m.kt)("mi",{parentName:"mrow"},"n"),(0,m.kt)("mo",{parentName:"mrow"},"\u2212"),(0,m.kt)("mn",{parentName:"mrow"},"1")))),(0,m.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e_{n-1}")))),(0,m.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,m.kt)("span",{parentName:"span",className:"base"},(0,m.kt)("span",{parentName:"span",className:"strut",style:{height:"0.638891em",verticalAlign:"-0.208331em"}}),(0,m.kt)("span",{parentName:"span",className:"mord"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,m.kt)("span",{parentName:"span",className:"msupsub"},(0,m.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.301108em"}},(0,m.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,m.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,m.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mtight"},(0,m.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"n"),(0,m.kt)("span",{parentName:"span",className:"mbin mtight"},"\u2212"),(0,m.kt)("span",{parentName:"span",className:"mord mtight"},"1"))))),(0,m.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,m.kt)("span",{parentName:"span",className:"vlist-r"},(0,m.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.208331em"}},(0,m.kt)("span",{parentName:"span"})))))))))),") ber\xfccksichtigt, so w\xfcrde sich folgender Pseudocode ergeben:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-txt"},"integral = lastError + error;\n")),(0,m.kt)("p",null,"Sollten mehr als nur die letzte beiden Fehlerwerte ber\xfccksichtigt werden, so kann durch den Arduinobefehl ",(0,m.kt)("inlineCode",{parentName:"p"},"constrain()")," der Wert des Integralanteils auf sinnvolle Werte begrenzt werden:"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-arduino"},"integral = constrain(integral,-4000,4000);\n")),(0,m.kt)("h3",{id:""}),(0,m.kt)("h2",{id:"pseudocode-i-regler"},"Pseudocode I-Regler"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"\nsollSpeed = 2000                            // Sollwert der Geschwindigkeit in Impulsen pro Sekunde\nki        = 0.1                             // Integral-Faktor\nintegral  = 0                               // Startwert f\xfcr Integral-Anteil\n\n\nwiederhole immer\n    istSpeed     = bestimmeSpeed()          // ermitteln der aktuellen Geschwindigkeit mit den Motorencodern\n    fehler       = sollSpeed - istSpeed     // Fehlerwert, Regeldifferenz\n    integral     = integral + fehler        // Integral-Anteil \n    begrenze(integral)                      \n                                     \n    motorSignal   = integral * ki           // PI-Regler\n                              \n    setMotors(motorSignal,motorSignal)      // Aktualisieren der Motordrehzahlen\n")),(0,m.kt)("h2",{id:"pseudocode-pi-regler"},"Pseudocode PI-Regler"),(0,m.kt)("pre",null,(0,m.kt)("code",{parentName:"pre",className:"language-go"},"\nsollSpeed = 2000                            // Sollwert der Geschwindigkeit in Impulsen pro Sekunde\nkp        = 1                               // Proportional-Faktor\nki        = 0.1                             // Integral-Faktor\nintegral  = 0                               // Startwert f\xfcr Integral-Anteil\n\n\nwiederhole immer\n    istSpeed     = bestimmeSpeed()          // ermitteln der aktuellen Geschwindigkeit mit den Motorencodern\n    fehler        = sollSpeed - istSpeed    // Fehlerwert, Regeldifferenz\n    integral     = integral + fehler        // Integral-Anteil \n    begrenze(integral)                      \n                                     \n    motorSignal   = fehler * kp +  integral * ki   // PI-Regler\n                              \n    setMotors(motorSignal,motorSignal)      // Aktualisieren der Motordrehzahlen\n")),(0,m.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,m.kt)("div",{parentName:"div",className:"admonition-heading"},(0,m.kt)("h5",{parentName:"div"},(0,m.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,m.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,m.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\xdcBEN")),(0,m.kt)("div",{parentName:"div",className:"admonition-content"},(0,m.kt)("ol",{parentName:"div",start:3},(0,m.kt)("li",{parentName:"ol"},"Schreiben Sie einen Integral-Regler zum Regeln der Geschwindigkeit. Nehmen Sie wie in der Aufgabe 2 die aktuelle Geschwindigkeit auf und stellen Sie diese mit einem geeigneten Programm als Liniendiagramm dar."),(0,m.kt)("li",{parentName:"ol"},"Erweitern Sie die Geschwindigkeitsregelung aus der 3. Aufgabe um folgende Eigenschaften:",(0,m.kt)("ol",{parentName:"li"},(0,m.kt)("li",{parentName:"ol"},"Die Sollgeschwindigkeit soll mit den Tastern A und B eingestellt werden k\xf6nnen."),(0,m.kt)("li",{parentName:"ol"},"Auf dem Display wird der aktuelle Wert f\xfcr das Motorsignal (Wert f\xfcr die Funktion ",(0,m.kt)("inlineCode",{parentName:"li"},"setSpeeds()"),") angezeigt."),(0,m.kt)("li",{parentName:"ol"},"Der Roboter soll erkennen, wenn er gegen ein Hindernis f\xe4hrt und es mit der roten LED anzeigen.")))))))}v.isMDXComponent=!0}}]);