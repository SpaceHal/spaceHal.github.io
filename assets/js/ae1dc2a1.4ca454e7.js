"use strict";(self.webpackChunkspace_hal_2=self.webpackChunkspace_hal_2||[]).push([[5786],{3168:function(e,r,t){t.r(r),t.d(r,{contentTitle:function(){return k},default:function(){return x},frontMatter:function(){return u},metadata:function(){return w},toc:function(){return b}});var i=t(7462),n=t(3366),o=t(7294),a=t(3905),d=t(5902),l=[{xTime:10076,speed:0,error:2e3,integral:2e3,power:200},{xTime:20108,speed:399,error:1601,integral:3601,power:360},{xTime:30108,speed:1200,error:800,integral:4e3,power:400},{xTime:40112,speed:1699,error:301,integral:4e3,power:400},{xTime:50108,speed:2150,error:-150,integral:3850,power:385},{xTime:60124,speed:2349,error:-349,integral:3501,power:350},{xTime:70116,speed:2700,error:-700,integral:2801,power:280},{xTime:80124,speed:2650,error:-650,integral:2151,power:215},{xTime:90128,speed:2598,error:-598,integral:1553,power:155},{xTime:100120,speed:2500,error:-500,integral:1053,power:105},{xTime:110124,speed:2200,error:-200,integral:853,power:85},{xTime:120132,speed:1999,error:1,integral:854,power:85},{xTime:130120,speed:1800,error:200,integral:1054,power:105},{xTime:140136,speed:1599,error:401,integral:1455,power:145},{xTime:150136,speed:1648,error:352,integral:1807,power:180},{xTime:160160,speed:1697,error:303,integral:2110,power:211},{xTime:170148,speed:1849,error:151,integral:2261,power:226},{xTime:180160,speed:1798,error:202,integral:2463,power:246},{xTime:190180,speed:1998,error:2,integral:2465,power:246},{xTime:200188,speed:2146,error:-146,integral:2319,power:231},{xTime:210196,speed:2248,error:-248,integral:2071,power:207},{xTime:220200,speed:2299,error:-299,integral:1772,power:177},{xTime:230220,speed:2297,error:-297,integral:1475,power:147},{xTime:240228,speed:2148,error:-148,integral:1327,power:132},{xTime:250236,speed:2048,error:-48,integral:1279,power:127},{xTime:260228,speed:1899,error:101,integral:1380,power:138},{xTime:270248,speed:1896,error:104,integral:1484,power:148},{xTime:280256,speed:1798,error:202,integral:1686,power:168},{xTime:290256,speed:1900,error:100,integral:1786,power:178},{xTime:300272,speed:1896,error:104,integral:1890,power:189},{xTime:310280,speed:1847,error:153,integral:2043,power:204},{xTime:320288,speed:1897,error:103,integral:2146,power:214},{xTime:330300,speed:2099,error:-99,integral:2047,power:204},{xTime:340296,speed:2149,error:-149,integral:1898,power:189},{xTime:350324,speed:2097,error:-97,integral:1801,power:180},{xTime:360332,speed:2098,error:-98,integral:1703,power:170},{xTime:370328,speed:2149,error:-149,integral:1554,power:155},{xTime:380328,speed:2099,error:-99,integral:1455,power:145},{xTime:390336,speed:1949,error:51,integral:1506,power:150},{xTime:400340,speed:1899,error:101,integral:1607,power:160},{xTime:410336,speed:1949,error:51,integral:1658,power:165},{xTime:420344,speed:1899,error:101,integral:1759,power:175},{xTime:430344,speed:1899,error:101,integral:1860,power:186},{xTime:440356,speed:1948,error:52,integral:1912,power:191},{xTime:450352,speed:1900,error:100,integral:2012,power:201},{xTime:460368,speed:2047,error:-47,integral:1965,power:196},{xTime:470376,speed:2097,error:-97,integral:1868,power:186},{xTime:480384,speed:2050,error:-50,integral:1818,power:181},{xTime:490384,speed:2099,error:-99,integral:1719,power:171}],s=["#4e4752","#D62828","#39998f","#bd86a8"];d.kL.defaults.font.size=14,d.kL.defaults.color="black",d.kL.defaults.font.family="Avenir",d.kL.defaults.elements.point=0,d.kL.defaults.datasets.cubicInterpolationMode="monotone",d.kL.defaults.plugins.legend.align="end";var p=2e3/l.length,c={parsing:{xAxisKey:"xTime"},animation:{x:{type:"number",easing:"linear",duration:p,from:NaN,delay:function(e){return"data"!==e.type||e.xStarted?0:(e.xStarted=!0,e.index*p)}},y:{type:"number",easing:"linear",duration:p,from:function(e){return 0===e.index?e.chart.scales.y.getPixelForValue(100):e.chart.getDatasetMeta(e.datasetIndex).data[e.index-1].getProps(["y"],!0).y},delay:function(e){return"data"!==e.type||e.yStarted?0:(e.yStarted=!0,e.index*p)}}},interaction:{intersect:!1},responsive:!0,plugins:{filler:{propagate:!0},legend:{position:"top",font:{weight:"normal"},labels:{boxWidth:15,boxHeight:10}},title:{display:!1,text:"Speed Control",font:{weight:"normal"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.7)",titleColor:"#474747",bodyColor:"#474747",cornerRadius:2,displayColors:!1,borderColor:"#474747",borderWidth:1}},scales:{x:{grid:{borderWidth:1,borderColor:"black",drawBorder:!1,color:function(e){return 0===e.tick.value?"Black":"LightGrey"},lineWidth:function(e){return 0===e.tick.value?1:.5},drawTicks:!1},ticks:{autoSkipPadding:50,maxRotation:0,padding:20},title:{display:!0,text:"Zeit in ms",align:"center",font:{weight:"italic"}}},y:{grid:{borderWidth:1,borderColor:"black",drawBorder:!1,color:function(e){return 0===e.tick.value?"Black":"LightGrey"},lineWidth:function(e){return 0===e.tick.value?1:.5},drawTicks:!1},ticks:{min:-1e3,max:4005,autoSkipPadding:25,padding:20,beginAtZero:!0},title:{display:!0,text:"Impulse pro Sekunde oder Motorwert",align:"center",font:{weight:"italic"}},offset:!1,beginAtZero:!0}},datasets:{line:{borderWidth:2}}},g={type:"line",data:{labels:l.map((function(e){return Math.round(e.xTime/1e3)+" ms"})),datasets:[{label:"aktuelle Geschwindigkeit",data:l,cubicInterpolationMode:"monotone",borderColor:s[0],backgroundColor:s[0],parsing:{yAxisKey:"speed"}},{label:"Fehler",data:l,cubicInterpolationMode:"monotone",borderColor:s[1],backgroundColor:s[1],parsing:{yAxisKey:"error"}},{label:"Integral-Anteil",data:l,cubicInterpolationMode:"monotone",borderColor:s[2],backgroundColor:s[2],hidden:!0,parsing:{yAxisKey:"integral"}},{label:"Motorwert",data:l,cubicInterpolationMode:"monotone",borderColor:s[3],backgroundColor:s[3],hidden:!0,parsing:{yAxisKey:"power"}}]}},m=function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"chartwrapper"},o.createElement(d.x1,{data:g.data,options:c})),o.createElement("div",{className:"btngroup"},o.createElement("button",{className:"btnchart"},"  ki = 0.1  "),o.createElement("button",{className:"btnchart"},"  ki = 0.2  "),o.createElement("button",{className:"btnchart"},"  ki = 0.4  "),o.createElement("button",{className:"btnchart"},"  ki = 0.1, kp=1  "),o.createElement("button",{className:"btnchart"},"  ki = 0.2, kp =1  ")))},u={id:"speedControl",title:"Ein Integral-Regler f\xfcr die Geschwindigkeit",sidebar_label:"Geschwindigkeitsregler",description:"Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit eines Roboters geregelt.",custom_edit_url:null,keywords:["Arduino","Roboter","Robotik","Gesschwindigkeit regeln","Quadraturencoder","Inkrementalgeber","Radencoder","Motorencoder","Integralregler","Zumo 32u4"]},k=void 0,w={unversionedId:"robotik/speedControl",id:"robotik/speedControl",isDocsHomePage:!1,title:"Ein Integral-Regler f\xfcr die Geschwindigkeit",description:"Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit eines Roboters geregelt.",source:"@site/docs/robotik/speedControl.mdx",sourceDirName:"robotik",slug:"/robotik/speedControl",permalink:"/docs/robotik/speedControl",editUrl:null,tags:[],version:"current",frontMatter:{id:"speedControl",title:"Ein Integral-Regler f\xfcr die Geschwindigkeit",sidebar_label:"Geschwindigkeitsregler",description:"Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit eines Roboters geregelt.",custom_edit_url:null,keywords:["Arduino","Roboter","Robotik","Gesschwindigkeit regeln","Quadraturencoder","Inkrementalgeber","Radencoder","Motorencoder","Integralregler","Zumo 32u4"]},sidebar:"sideBarRobotik",previous:{title:"Ge\xadra\xadde\xadaus\xadfahrt",permalink:"/docs/robotik/goStraight"},next:{title:"Anwendung: Barcode",permalink:"/docs/robotik/botBarcode"}},b=[],h={toc:b};function x(e){var r=e.components,t=(0,n.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,i.Z)({},h,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Die Abbildung stellt den zeitlichen Verlauf des Integralanteils des Reglers und die resultierende Geschwindigkeit in Encoder-Impulsen pro Sekunde dar."),(0,a.kt)(m,{mdxType:"LineChart"}),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\xdcBEN")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("ol",{parentName:"div"},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Lassen Sie den Roboter \xfcber eine Zeit von ca. 0,5 Sekunden mit verschiedenen Geschwindigkeiten (200, 300, 400) fahren. Bestimmen sie gleichzeitig die ",(0,a.kt)("strong",{parentName:"p"},"aktuelle Geschwindigkeit in Impulsen pro Sekunde"),". Nutzen Sie f\xfcr eine bessere Genauigkeit bei der Zeitmessung sdie ",(0,a.kt)("a",{parentName:"p",href:"https://www.arduino.cc/reference/de/language/functions/time/micros/"},(0,a.kt)("inlineCode",{parentName:"a"},"micros()"))," Funktion. Geben Sie die Geschwindigkeiten w\xe4hrend des Beschleunigungsvorgangs auf dem seriellen Monitor aus."),(0,a.kt)("p",{parentName:"li"},"Stellen Sie abschlie\xdfend ihr Ergebnisse mit einem geeignetem Programm (z.B. ",(0,a.kt)("a",{parentName:"p",href:"https://support.microsoft.com/de-de/topic/darstellen-von-daten-im-punkt-oder-liniendiagramm-4570a80f-599a-4d6b-a155-104a9018b86e#OfficeVersion=Windows"},"Excel")," oder Openoffice) graphisch dar (y-Achse: Impulse pro Sekunde, x-Achse: Zeit in Millisekudnen) und beantworten Sie folgende Fragen:"),(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"Wie lange ben\xf6tigt der Roboter, bis er seine jeweilige Maximalgeschwindigkeit erreicht hat?"),(0,a.kt)("li",{parentName:"ol"},"Welcher Funktionstyp beschreibt den Zusammenhang zwischen Zeit und Geschwindigkeit am besten.   ")))),(0,a.kt)("pre",{parentName:"div"},(0,a.kt)("code",{parentName:"pre"},"// ...   \n\n// Zum Bestimmen der Geschwindigkeit sollten in einem festen Zeitintervall `dTime` die\n// Encoder-Impulse der R\xe4der bestimmt werden. Damit die Ergebnisse nicht zu stark schwanken\n// (Quantisierungsfehler), sollte das Zeitintervall in welchem die Encoder-Impulse bestimmt\n// werden so festgelegt sein, das im Mittel ca. 50 Impulse detektiert werden.\n\nint dTime = 20 * 1e3;                                  // in Mikrosekunden\n\nmotors.setSpeeds(MOTOR_POWER, MOTOR_POWER);\nwhile (jetzt - startTime < ON_TIME) {                  // Messung dauert insgesamt ON_TIME\n  aktuelleZeit = micros();                             // Nutzen Sie micros() f\xfcr eine bessere Genauigkeit\n  \n  if (aktuelleZeit - letztesIntervall >= dTime) { \n    letztesIntervall = aktuelleZeit;\n    int ticksLeft = encoders.getCountsAndResetRight(); // Impulse auslesen und zur\xfccksetzen\n    int ticksRight = encoders.getCountsAndResetLeft();\n    \n    // ... \n  }  \n}\n// ... \n")))))}x.isMDXComponent=!0}}]);