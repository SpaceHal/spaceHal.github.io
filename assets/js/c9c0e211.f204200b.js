"use strict";(self.webpackChunkspace_hal_2=self.webpackChunkspace_hal_2||[]).push([[3817],{3905:function(e,a,t){t.d(a,{Zo:function(){return o},kt:function(){return c}});var n=t(7294);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var i=n.createContext({}),l=function(e){var a=n.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):m(m({},a),e)),t},o=function(e){var a=l(e.components);return n.createElement(i.Provider,{value:a},e.children)},N={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},k=n.forwardRef((function(e,a){var t=e.components,s=e.mdxType,r=e.originalType,i=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),k=l(t),c=s,h=k["".concat(i,".").concat(c)]||k[c]||N[c]||r;return t?n.createElement(h,m(m({ref:a},o),{},{components:t})):n.createElement(h,m({ref:a},o))}));function c(e,a){var t=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var r=t.length,m=new Array(r);m[0]=k;var p={};for(var i in a)hasOwnProperty.call(a,i)&&(p[i]=a[i]);p.originalType=e,p.mdxType="string"==typeof e?e:s,m[1]=p;for(var l=2;l<r;l++)m[l]=t[l];return n.createElement.apply(null,m)}return n.createElement.apply(null,t)}k.displayName="MDXCreateElement"},2722:function(e,a,t){t.r(a),t.d(a,{frontMatter:function(){return p},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return o},default:function(){return k}});var n=t(3117),s=t(102),r=(t(7294),t(3905)),m=["components"],p={title:"Linienfolger mit einem Proportional-Regler",sidebar_label:"P-Regler",description:"Mit einem einfachen Proportional-Regler einen Arduino-Roboter einer Linie folgen lassen. Es wird der Einfluss von kp analysiert und ein Pseudocode vorgestellt.",custom_edit_url:null,keywords:["Arduino","Programm","Code","Linienfolger","Kantenfolger","Linie folgen","Roboter","Robotik","Pseudocode","Regler","Proportional-Regler","P-Regler","kp Faktor","Proportionalfaktor","PID"]},i=void 0,l={unversionedId:"robotik/edge_P_Control",id:"robotik/edge_P_Control",isDocsHomePage:!1,title:"Linienfolger mit einem Proportional-Regler",description:"Mit einem einfachen Proportional-Regler einen Arduino-Roboter einer Linie folgen lassen. Es wird der Einfluss von kp analysiert und ein Pseudocode vorgestellt.",source:"@site/docs/robotik/edge_P_Control.md",sourceDirName:"robotik",slug:"/robotik/edge_P_Control",permalink:"/docs/robotik/edge_P_Control",editUrl:null,tags:[],version:"current",lastUpdatedAt:1631966711,formattedLastUpdatedAt:"18.9.2021",frontMatter:{title:"Linienfolger mit einem Proportional-Regler",sidebar_label:"P-Regler",description:"Mit einem einfachen Proportional-Regler einen Arduino-Roboter einer Linie folgen lassen. Es wird der Einfluss von kp analysiert und ein Pseudocode vorgestellt.",custom_edit_url:null,keywords:["Arduino","Programm","Code","Linienfolger","Kantenfolger","Linie folgen","Roboter","Robotik","Pseudocode","Regler","Proportional-Regler","P-Regler","kp Faktor","Proportionalfaktor","PID"]},sidebar:"sideBarRobotik",previous:{title:"3-Stufen-Regler",permalink:"/docs/robotik/edgeFollower"},next:{title:"PD-Regler",permalink:"/docs/robotik/lineFollowerPD"}},o=[{value:"Regelkreis (<em>control system</em>)",id:"regelkreis-control-system",children:[],level:2},{value:"Aufgaben Regelkreis",id:"aufgaben-regelkreis",children:[],level:2},{value:"Proportional-Regler (<em>P-Controller</em>)",id:"proportional-regler-p-controller",children:[{value:"Wahl des Faktors k_p",id:"wahl-des-faktors-k_p",children:[],level:3},{value:"Begrenzung der ermittelten Geschwindigkeit: <code>constrain()</code>",id:"begrenzung-der-ermittelten-geschwindigkeit-constrain",children:[],level:3}],level:2},{value:"Pseudocode",id:"pseudocode",children:[],level:2},{value:"Aufgaben (Kantenfolger P-Regler)",id:"aufgaben-kantenfolger-p-regler",children:[],level:2},{value:"Links",id:"links",children:[],level:2}],N={toc:o};function k(e){var a=e.components,t=(0,s.Z)(e,m);return(0,r.kt)("wrapper",(0,n.Z)({},N,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Der einfache ",(0,r.kt)("a",{parentName:"p",href:"/docs/robotik/edgeFollower"},"3-Stufen Algorithmus")," zum Kantenfolgen funktioniert bei Linien und Abzweigung meistens ganz gut, l\xe4sst aber den Roboter die Linie ",(0,r.kt)("em",{parentName:"p"},"entlangzappeln"),", anstatt ihr geschmeidig zu folgen. Auch wird es mit dem einfachen Algorithmus schwierig, dem Roboter bei Kreuzungen oder Abzweigung ein konkretes Verhalten zu programmieren. "),(0,r.kt)("p",null,"Ein wesentlich besserer Ansatz ist der ",(0,r.kt)("strong",{parentName:"p"},"Proportional-Regler")," (P-Regler), bei dem es nicht nur drei verschiedene Unterscheidungsstufen mit drei verschiedenen Motordrehzahlen gibt, sondern f\xfcr jeden Unterschied zwischen Soll- und Istwert ein geeigneter Wert zum Steuern der Motoren berechnet wird. "),(0,r.kt)("h2",{id:"regelkreis-control-system"},"Regelkreis (",(0,r.kt)("em",{parentName:"h2"},"control system"),")"),(0,r.kt)("p",null,"Bevor jedoch der P-Regler f\xfcr den Linienfolger entwickelt wird, soll kurz die allgemeine Struktur eines ",(0,r.kt)("strong",{parentName:"p"},"Regelkreises")," (",(0,r.kt)("em",{parentName:"p"},"control system"),") anhand des Linienfolger erl\xe4utert werden."),(0,r.kt)("img",{src:"/img/robotik/RegelkreisLinienfolger.jpg",alt:"Regelkreis",width:"650px",class:"center"}),(0,r.kt)("p",null,"Bei einem ",(0,r.kt)("strong",{parentName:"p"},"Regelkreis")," (",(0,r.kt)("em",{parentName:"p"},"control system"),") wird davon ausgegangen, dass ein System einen ",(0,r.kt)("strong",{parentName:"p"},"Sollwert"),"   ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"w"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"w(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")")))))," (engl. ",(0,r.kt)("em",{parentName:"p"},"reference signal"),") einhalten soll. In unseren Fall ist die Sollgr\xf6\xdfe der vom Sensor zu erzielende Sensorwert der Linienkante (z.B. 350)."),(0,r.kt)("p",null,"Weicht der ",(0,r.kt)("strong",{parentName:"p"},"Messwert")," ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"y"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"y(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")"))))),", also der aktuell gemessene Sensorwert von der Sollgr\xf6\xdfe ab, so l\xe4sst sich die ",(0,r.kt)("strong",{parentName:"p"},"Regelabweichung")," (auch ",(0,r.kt)("em",{parentName:"p"},"error term")," oder Fehlerwert) ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")")))))," leicht als Differenz aus Soll- und Messwert berechnen: ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("mi",{parentName:"mrow"},"w"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,r.kt)("mo",{parentName:"mrow"},"\u2212"),(0,r.kt)("mi",{parentName:"mrow"},"y"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t) = w(t) - y(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"="),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,r.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")"))))),"."),(0,r.kt)("p",null,"Mit Hilfe der Regelabweichung ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")")))))," bestimmt nun der ",(0,r.kt)("strong",{parentName:"p"},"Regler")," (engl. ",(0,r.kt)("em",{parentName:"p"},"controller"),") die ",(0,r.kt)("strong",{parentName:"p"},"Stellgr\xf6\xdfe")," (engl. ",(0,r.kt)("em",{parentName:"p"},"manipulated variable"),"), welche auf die ",(0,r.kt)("strong",{parentName:"p"},"Regelstrecke")," (engl. ",(0,r.kt)("em",{parentName:"p"},"system")," oder ",(0,r.kt)("em",{parentName:"p"},"plant"),") einwirkt. In diesem Fall ist die Regelstrecke der Roboter, welcher der Kante folgen soll. Ein anderes Beispiele ist ein Tempomat, bei dem die Geschwindigkeit eines Fahrzeugess konstant gehalten werden soll."),(0,r.kt)("p",null,"In der Regel ist das Ziel eines Reglers, den zeitver\xe4nderlichen Fehlerwert so klein wie m\xf6glich zu halten und damit den Messwert an den Sollwert anzun\xe4hern. Im Fall des Kantenfolgers bedeutet dies, dass der Roboter m\xf6glichst immer \xfcber der Kante bleibt."),(0,r.kt)("h2",{id:"aufgaben-regelkreis"},"Aufgaben Regelkreis"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),(0,r.kt)("strong",{parentName:"h5"},"\xdcben"))),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"Skizzieren Sie den Regelkreis f\xfcr einen PKW-Tempomat und erl\xe4utern Sie die zugeh\xf6rigen Gr\xf6\xdfen des Regelkreises (Sollwert, Messwert, Regelabweichung, Stellgr\xf6\xdfe, Regelstrecke)."),(0,r.kt)("li",{parentName:"ol"},"Geben Sie 5 technische Beispiele f\xfcr einen Regelkreis an."),(0,r.kt)("li",{parentName:"ol"},"Diskutieren Sie, welche sinnvoll zu regelnden Gr\xf6\xdfen es bei einem Roboter geben k\xf6nnte.")))),(0,r.kt)("h2",{id:"proportional-regler-p-controller"},"Proportional-Regler (",(0,r.kt)("em",{parentName:"h2"},"P-Controller"),")"),(0,r.kt)("img",{src:"/img/robotik/GraphPRegler.png",alt:"Proportional Control",width:"600px",class:"center"}),(0,r.kt)("p",null,"Im Gegensatz zu einem 3-Stufen-Regler, bei dem nur drei verschiedene Motordrehzahlen f\xfcr das Kurvenverhalten eingestellt werden, gibt es bei dem P-Regler einen proportionalen Zusammenhang zwischen der Regelabweichung ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")")))))," und der Stellgr\xf6\xdfe (Motordrehzahl). "),(0,r.kt)("p",null,"Konkret wird beim P-Regler die ",(0,r.kt)("strong",{parentName:"p"},"Abweichung der Motordrehzahl")," (",(0,r.kt)("inlineCode",{parentName:"p"},"deltaSpeed"),") von einer Normgr\xf6\xdfe (",(0,r.kt)("inlineCode",{parentName:"p"},"speed"),") gesteuert. Die aktuelle Motordrehzahl ergibt sich dann als Summe aus der Normgr\xf6\xdfe und der Abweichung. Damit der Roboter seine Fahrtrichtung \xe4ndern kann, wird ",(0,r.kt)("inlineCode",{parentName:"p"},"deltaSpeed")," je nach Seite von der Normgr\xf6\xdfe (",(0,r.kt)("inlineCode",{parentName:"p"},"speed"),") abgezogen oder hinzuaddiert: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"leftSpeed  = speed + deltaSpeed  // Drehzahl linkes Rad\nrightSpeed = speed - deltaSpeed  // Drehzahl rechtes Rad\n")),(0,r.kt)("p",null,"Die ",(0,r.kt)("strong",{parentName:"p"},"Abweichung der Motordrehzahl")," (",(0,r.kt)("inlineCode",{parentName:"p"},"deltaSpeed"),") h\xe4ngt proportional von der Regelabweichung (Fehlerwert), also der Abweichung von der Linienkante ab. Mit dem Proportionalit\xe4tsfaktor ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))," wird ",(0,r.kt)("inlineCode",{parentName:"p"},"deltaSpeed")," direkt aus der Regelabweichung berechnet:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"deltaSpeed  = kp * e   // e: Regelabweichung, Fehlerwert\n")),(0,r.kt)("p",null,"Die Regelabweichung ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e(t)")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"),(0,r.kt)("span",{parentName:"span",className:"mopen"},"("),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mclose"},")")))))," kann aus der Differenz des Sollwertes (also dem Wert der Linienkante) und dem Messwert des IR-Sensors bestimmt werden."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"e = wertKante - sensorWert;     // Fehlerwert, Regelabweichung\n")),(0,r.kt)("h3",{id:"wahl-des-faktors-k_p"},"Wahl des Faktors ",(0,r.kt)("span",{parentName:"h3",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))),(0,r.kt)("p",null,"Die Wahl des Faktors ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))," hat einen erheblichen Einfluss auf das Fahrverhalten des Roboters."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Ist ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))," ",(0,r.kt)("strong",{parentName:"p"},"zu klein"),", wird der Fehler nicht schnell genug ge\xe4ndert und der Roboter wird bei einer Kurve ganz schnell die Kante verlieren. Der Fehler steigt also immer weiter an.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Ist  ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))," jedoch ",(0,r.kt)("strong",{parentName:"p"},"zu gro\xdf")," gew\xe4hlt, so f\xe4ngt der Roboter an, hin- und herzuschwingen. In diesem Fall spricht man auch von einem ",(0,r.kt)("strong",{parentName:"p"},"oszillierenden Verhalten"),"."),(0,r.kt)("p",{parentName:"li"},"Diese Oszillationsbewegungen entstehen, weil auf relativ kleine Fehler mit einem zu starken Gegenlenken (also einem zu gro\xdfen ",(0,r.kt)("inlineCode",{parentName:"p"},"deltaSpeed"),") reagiert wird. Man kennt dieses Verhalten von Kindern, die Fahrrad fahren lernen. So lange, wie sie noch unsicher sind, wackeln sie stark mit dem Lenker, um das Gleichgewicht zu halten. Erst mit etwas mehr \xdcbung wird ihr Fahrverhalten ruhiger und das Schlingern des Rades nimmt ab.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\xc4hnlich wie bei dem 3-Stufenregler hat die Geschwindigkeit des Roboters einen gro\xdfen Einfluss auf das Ergebnis des Reglers. Beginnen Sie am besten mit ",(0,r.kt)("strong",{parentName:"p"},"einer geringen Geschwindigkeit"),". (Warum eigentlich?)"))),(0,r.kt)("h3",{id:"begrenzung-der-ermittelten-geschwindigkeit-constrain"},"Begrenzung der ermittelten Geschwindigkeit: ",(0,r.kt)("inlineCode",{parentName:"h3"},"constrain()")),(0,r.kt)("p",null,"In Abh\xe4ngigkeit vom Proportionalit\xe4tsfaktor ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))," und der Regelabweichung (Fehlerwert) kann es passieren, dass die ermittelte Geschwindigkeit eines Rades den zul\xe4ssigen Wertebereich von z.B. 0 bis 255 (PWM-Werte) \xfcberschreitet. In diesem Fall w\xfcrde die Funktion ",(0,r.kt)("inlineCode",{parentName:"p"},"analogWrite(pin,PWM)")," zur Geschwindigkeitssteuerung keinen Fehler ausgeben und trotzdem einen falschen PWM-Wert setzen. Daher sollten die berechneten PWM-Werte f\xfcr die Motoren auf geeignete Werte begrenzt werden."),(0,r.kt)("p",null,"Hierf\xfcr eignet sich der Arduino-Befehl ",(0,r.kt)("a",{parentName:"p",href:"https://www.arduino.cc/reference/de/language/functions/math/constrain/"},(0,r.kt)("inlineCode",{parentName:"a"},"constrain()")),","),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wertC = constrain(wert,min,max)\n")),(0,r.kt)("p",null," welche den Eingabewert ",(0,r.kt)("inlineCode",{parentName:"p"},"wert")," auf den angegebenen Minimal- ",(0,r.kt)("inlineCode",{parentName:"p"},"min")," und Maximalwert ",(0,r.kt)("inlineCode",{parentName:"p"},"max")," begrenzt. Dabei gilt:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wertC")," = ",(0,r.kt)("inlineCode",{parentName:"li"},"wert"),", wenn ",(0,r.kt)("inlineCode",{parentName:"li"},"wert")," zwischen ",(0,r.kt)("inlineCode",{parentName:"li"},"min")," und ",(0,r.kt)("inlineCode",{parentName:"li"},"max")," "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wertC")," = ",(0,r.kt)("inlineCode",{parentName:"li"},"min"),", wenn  ",(0,r.kt)("inlineCode",{parentName:"li"},"wert")," kleiner ",(0,r.kt)("inlineCode",{parentName:"li"},"min")," ist "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wertC")," = ",(0,r.kt)("inlineCode",{parentName:"li"},"max"),", wenn  ",(0,r.kt)("inlineCode",{parentName:"li"},"wert")," gr\xf6\xdfer ",(0,r.kt)("inlineCode",{parentName:"li"},"max")," ist ")),(0,r.kt)("h2",{id:"pseudocode"},"Pseudocode"),(0,r.kt)("p",null,"Bevor ein Algorithmus (z.B. der P-Regler) in ein lauff\xe4higes Programm \xfcberf\xfchrt wird, ist es sinnvoll sich einen ",(0,r.kt)("a",{parentName:"p",href:"https://de.wikipedia.org/wiki/Pseudocode"},"Pseudocode")," f\xfcr den Algorithmus zu erstellen. Im Gegensatz zum echten Programmcode, kann der Pseudocode vom Arduino oder PC nicht gelesen bzw. korrekt interpretiert werden. Er dient vor allem zu Strukturierung und Veranschaulichung eines Algorithmus. Gibt es zu einem Algorithmus einen gut lesbaren Pseudocode, ist es meistens relativ einfach, diesen in die entsprechende Programmiersprache (z.B. Arduino) zu \xfcberf\xfchren."),(0,r.kt)("p",null,"Da der Pseudocode nicht von einer Maschine, sondern von Menschen gelesen werden soll, gibt es daf\xfcr auch kaum feste Regeln. Die wichtigste Regel ist jedoch, ",(0,r.kt)("strong",{parentName:"p"},"dass der Pseudocode selbsterkl\xe4rend und verst\xe4ndlich sein soll"),". Einzelne Konzepte einer speziellen Programmiersprache (Objekte, Arrays, Pointer, etc.) sollten im Pseudocode nicht auftauchen. Auch kann auf Semikola am Zeilenende oder geschweifte Klammern f\xfcr Programmbl\xf6cke verzichtet werden. F\xfcr eine gute Lesbarkeit sollten Programmbl\xf6cke f\xfcr Verzweigungen und Schleifen im Code einger\xfcckt werden."),(0,r.kt)("p",null,"An dem bereits bekannten Pseudocode f\xfcr den ",(0,r.kt)("a",{parentName:"p",href:"/docs/robotik/edgeFollower#3-stufen-algorithmus"},"3-Stufen-Kantenfolger")," k\xf6nnen einzelne Merkmal eines gut lesbaren Codes erl\xe4utert werden."),(0,r.kt)("p",null,"F\xfcr den  wurde folgender Pseudocode vorgeschlagen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"// Pseudocode eines 3-Stufen-Kantenfolgers\nwertKante = 600                         // eine Variable\n\nwiederhole dauerhaft                    // Schleifen sollten mit `wiederhole` und zugeh\xf6rigen Bedingungen bezeichnet werden.\n                                        // Der zur Schleife geh\xf6rende Codeblock wird einger\xfcckt.\n    wertIr = messenIrSensor()           // Funktionen werden mit Klammern `()` markiert.\n    wenn: wertIr > wertKante            // Programmverzweigungen k\xf6nnen mit `wenn` und `sonst wenn`\n                                        // und `sonst` bezeichnet werden.\n        fahrenLinks() \n        \n    sonst wenn: wertIr <= wertKante     // Bedingungen f\xfcr Programmverzweigungen k\xf6nnen als Code\n                                        // oder auch umgangssprachlich ausgedr\xfcckt wereden.\n        fahrenRechts() \n")),(0,r.kt)("h2",{id:"aufgaben-kantenfolger-p-regler"},"Aufgaben (Kantenfolger P-Regler)"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),(0,r.kt)("strong",{parentName:"h5"},"\xdcben"))),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"Ein kalibrierter Roboter, welcher mit einer Geschwindigkeit von ",(0,r.kt)("inlineCode",{parentName:"li"},"speed = 130")," geradeaus f\xe4hrt, ermittelt mit dem Bodensensor einen Messwert von ",(0,r.kt)("inlineCode",{parentName:"li"},"sensorWert = 45"),". Der Sollwert des Reglers, also die Linienkante hat einen Wert von ",(0,r.kt)("inlineCode",{parentName:"li"},"kante = 345"),".",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Bestimmen Sie die Regeldifferenz ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"e")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"e")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"e"))))),"."),(0,r.kt)("li",{parentName:"ol"},"Berechnen Sie den Wert f\xfcr den Proportional-Faktor ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"})))))))))),", damit sich eine \xc4nderung der Motorgeschwindigkeit von ",(0,r.kt)("inlineCode",{parentName:"li"},"deltaSpeed = 150")," ergibt."),(0,r.kt)("li",{parentName:"ol"},"Ermitteln Sie die neuen PWM-Werte des linken und des rechten Motors (ohne Begrenzung des Wertebereichs)."),(0,r.kt)("li",{parentName:"ol"},"Analysieren Sie die ermittelten PWM-Werte hinsichtlich des Fahrverhaltens des Roboters."),(0,r.kt)("li",{parentName:"ol"},"Wie \xe4ndert Sie das Fahrverhalten, wenn ein Proportional-Faktor ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p")),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("mn",{parentName:"mrow"},"1.2")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p = 1.2")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"})))))),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"="),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.64444em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},"1"),(0,r.kt)("span",{parentName:"span",className:"mord"},"."),(0,r.kt)("span",{parentName:"span",className:"mord"},"2"))))),"  verwendet wird."))),(0,r.kt)("li",{parentName:"ol"},"Wiederholen Sie die erste Aufgabe mit dem ",(0,r.kt)("strong",{parentName:"li"},"realen Wert")," der Linienkante Ihres Roboters. Sch\xe4tzen Sie einen sinnvollen Werte f\xfcr ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"k"),(0,r.kt)("mi",{parentName:"msub"},"p"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"k_p")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.980548em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03148em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"p")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"}))))))))))," ab und begr\xfcnden Sie Ihre Wahl."),(0,r.kt)("li",{parentName:"ol"},"Schreiben Sie den ",(0,r.kt)("strong",{parentName:"li"},"Pseudocode")," f\xfcr einen Kantenfolger mit P-Regler."),(0,r.kt)("li",{parentName:"ol"},"Programmieren Sie einen Kantenfolger mit ",(0,r.kt)("strong",{parentName:"li"},"P-Regler"),". Welchen Einfluss hat die maximale Geschwindigkeit der R\xe4der ",(0,r.kt)("inlineCode",{parentName:"li"},"maxSpeed")," auf das Verhalten des Reglers? Welchen maximalen Wert k\xf6nnen Sie f\xfcr ",(0,r.kt)("inlineCode",{parentName:"li"},"maxSpeed")," angeben, damit der Roboter die gesamte Strecke schafft?  ",(0,r.kt)("em",{parentName:"li"},"Optional: Nutzen Sie die Taster, um den Wert f\xfcr kp direkt am Roboter zu \xe4ndern."))))),(0,r.kt)("h2",{id:"links"},"Links"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://studyflix.de/informatik/regelkreis-1453"},"Regelkreis - Studyfix")),(0,r.kt)("li",{parentName:"ul"},"Ein sehr gutes Video, welches das Grundkonzept eines Regelkreises erl\xe4utert: ",(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=O-OqgFE9SD4"},"Control System (eng)"))))}k.isMDXComponent=!0}}]);