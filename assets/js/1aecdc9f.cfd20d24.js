"use strict";(self.webpackChunkspace_hal_2=self.webpackChunkspace_hal_2||[]).push([[1809],{3905:function(e,n,a){a.d(n,{Zo:function(){return p},kt:function(){return g}});var t=a(67294);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function s(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?r(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function l(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var d=t.createContext({}),m=function(e){var n=t.useContext(d),a=n;return e&&(a="function"==typeof e?e(n):s(s({},n),e)),a},p=function(e){var n=m(e.components);return t.createElement(d.Provider,{value:n},e.children)},o={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=m(a),g=i,c=u["".concat(d,".").concat(g)]||u[g]||o[g]||r;return a?t.createElement(c,s(s({ref:n},p),{},{components:a})):t.createElement(c,s({ref:n},p))}));function g(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=u;var l={};for(var d in n)hasOwnProperty.call(n,d)&&(l[d]=n[d]);l.originalType=e,l.mdxType="string"==typeof e?e:i,s[1]=l;for(var m=2;m<r;m++)s[m]=a[m];return t.createElement.apply(null,s)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},72444:function(e,n,a){a.r(n),a.d(n,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return m},default:function(){return o}});var t=a(87462),i=a(63366),r=(a(67294),a(3905)),s={title:"Den Arduino mit einem Taster steuern",sidebar_label:"5. Taster und if-Verzweigung",description:"Digitale Eingaben (Taster) und if-Verzweigung mit dem Arduino realisieren. Und wozu wird ein Pullup-Widerstand ben\xf6tigt?",custom_edit_url:null},l=void 0,d={unversionedId:"arduino/input",id:"arduino/input",isDocsHomePage:!1,title:"Den Arduino mit einem Taster steuern",description:"Digitale Eingaben (Taster) und if-Verzweigung mit dem Arduino realisieren. Und wozu wird ein Pullup-Widerstand ben\xf6tigt?",source:"@site/docs/arduino/input.md",sourceDirName:"arduino",slug:"/arduino/input",permalink:"/docs/arduino/input",editUrl:null,tags:[],version:"current",lastUpdatedAt:1631966711,formattedLastUpdatedAt:"9/18/2021",frontMatter:{title:"Den Arduino mit einem Taster steuern",sidebar_label:"5. Taster und if-Verzweigung",description:"Digitale Eingaben (Taster) und if-Verzweigung mit dem Arduino realisieren. Und wozu wird ein Pullup-Widerstand ben\xf6tigt?",custom_edit_url:null},sidebar:"sideBarArduino",previous:{title:"4. Schleifen",permalink:"/docs/arduino/loop"},next:{title:"6. Funktionen",permalink:"/docs/arduino/functions"}},m=[{value:"Einen Taster direkt verbinden",id:"einen-taster-direkt-verbinden",children:[]},{value:"Taster mit Pullup-Widerstand verbinden",id:"taster-mit-pullup-widerstand-verbinden",children:[]},{value:"Interner Pull-Up Widerstand",id:"interner-pull-up-widerstand",children:[]},{value:"Die <code>if</code> Verzweigung - Eine bedingte Anweisung",id:"die-if-verzweigung---eine-bedingte-anweisung",children:[{value:"<code>if ... else if ... else</code>",id:"if--else-if--else",children:[]}]},{value:"Einfaches Taster-Beispiel",id:"einfaches-taster-beispiel",children:[{value:"<code>pinMode(pin,INPUT)</code>",id:"pinmodepininput",children:[]},{value:"<code>digitalRead(pin)</code>",id:"digitalreadpin",children:[]},{value:"Aufgaben",id:"aufgaben",children:[]}]},{value:"Warten auf eine Tastereingabe mit der while-Schleife",id:"warten-auf-eine-tastereingabe-mit-der-while-schleife",children:[]},{value:"Ein Taster zum Umschalten",id:"ein-taster-zum-umschalten",children:[{value:"Aufgaben",id:"aufgaben-1",children:[]}]}],p={toc:m};function o(e){var n=e.components,a=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Im folgenden Programmbeispiel werden ",(0,r.kt)("strong",{parentName:"p"},"digitale Signale eingelesen"),". Hierzu soll ein Taster \xfcber den digitalen Pin 3 mit dem Arduino verbunden und eine LED gesteuert werden. "),(0,r.kt)("h2",{id:"einen-taster-direkt-verbinden"},"Einen Taster direkt verbinden"),(0,r.kt)("img",{src:"/img/arduino/ohnePullUpWiderstand.svg",alt:"drawing",width:"450px",class:"center"}),(0,r.kt)("p",null,"Die einfachste M\xf6glichkeit, einen Taster anzuschlie\xdfen, w\xe4re, ihn direkt mit einer Spannungsquelle (Vcc) und einem Arduino-Pin zu verbinden (",(0,r.kt)("em",{parentName:"p"},"Abb. links"),"). Ein digitaler Arduino-Pin, welcher als Input konfiguriert ist, weist einen sehr hohen Innenwiderstand (",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mo",{parentName:"mrow"},"\u2248"),(0,r.kt)("mn",{parentName:"mrow"},"100"),(0,r.kt)("mtext",{parentName:"mrow"},"\xa0M"),(0,r.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u03a9")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\approx 100 \\text{ M}\\Omega")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.48312em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"\u2248"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},"1"),(0,r.kt)("span",{parentName:"span",className:"mord"},"0"),(0,r.kt)("span",{parentName:"span",className:"mord"},"0"),(0,r.kt)("span",{parentName:"span",className:"mord text"},(0,r.kt)("span",{parentName:"span",className:"mord"},"\xa0M")),(0,r.kt)("span",{parentName:"span",className:"mord"},"\u03a9"))))),") auf. Wird der Taster nun gedr\xfcckt, so w\xfcrde die gesamte Spannung am Eingangspin abfallen. In unserem Beispiel also  ca. 5V am Pin 3."),(0,r.kt)("p",null,"Ist der Taster jedoch ",(0,r.kt)("strong",{parentName:"p"},"offen"),", so w\xe4re das Potential am Eingangspin unbestimmt oder auch schwebend (",(0,r.kt)("em",{parentName:"p"},"engl.: floating"),") und nicht, wie man annehmen k\xf6nnte, null. In Abh\xe4ngigkeit von der Umgebung (z.B. eine Hand, die sich der Schaltung n\xe4hert) \xe4ndert sich die anliegende Spannung, und der Zustand des Pins ist unvorhersehbar (HIGH oder LOW)."),(0,r.kt)("p",null,"Um das zu \xe4ndern, m\xfcsste der Pin au\xdferdem mit der Masse verbunden werden. In der rechten Abbildung ist genau das geschehen, nur mit dem Unterschied, dass der Taster zwischen dem Pin und der Masse liegt. Ist der Taster offen, w\xe4re alles in Ordnung (am Pin liegen dann Vcc = 5V). Problematisch wird es aber, wenn der Taster gedr\xfcckt wird. Dann entsteht ein ",(0,r.kt)("strong",{parentName:"p"},"Kurzschluss")," zwischen Vcc und GND, was unbedingt vermieden werden sollte."),(0,r.kt)("h2",{id:"taster-mit-pullup-widerstand-verbinden"},"Taster mit Pullup-Widerstand verbinden"),(0,r.kt)("img",{src:"/img/arduino/PullUpWiderstand.svg",alt:"drawing",width:"400px",class:"center"}),(0,r.kt)("p",null,"Zum Verhindern eines Kurzschlusses beim Schlie\xdfen des Tasters wird zwischen Vcc und dem Taster ein Widerstand eingef\xfcgt. Ist der Taster offen, wird die Eingangsspannung des Pins auf die angeschlossene Spannung Vcc hochgezogen, ohne dass es einen Kurzschluss gibt. Daher auch der Name ",(0,r.kt)("strong",{parentName:"p"},"Pullup-Widerstand"),". Ist der Taster geschlossen, so ist der Pin direkt mit der Masse verbunden und die Spannung betr\xe4gt 0V."),(0,r.kt)("p",null,"Geeignete Werte f\xfcr einen Pullup-Widerstand sind ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"R"),(0,r.kt)("mtext",{parentName:"msub"},"up")),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("mn",{parentName:"mrow"},"10"),(0,r.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,r.kt)("mi",{parentName:"mrow"},"k"),(0,r.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u03a9"),(0,r.kt)("mtext",{parentName:"mrow"},"\xa0"),(0,r.kt)("mo",{parentName:"mrow"},"\u22ef"),(0,r.kt)("mn",{parentName:"mrow"},"50"),(0,r.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,r.kt)("mi",{parentName:"mrow"},"k"),(0,r.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u03a9")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"R_\\text{up} = 10\\, k\\Omega\\ \\cdots 50\\, k\\Omega")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.969438em",verticalAlign:"-0.286108em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.00773em"}},"R"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15139200000000003em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.00773em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord text mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mtight"},"up"))))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.286108em"}},(0,r.kt)("span",{parentName:"span"})))))),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"="),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},"1"),(0,r.kt)("span",{parentName:"span",className:"mord"},"0"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"mord"},"\u03a9"),(0,r.kt)("span",{parentName:"span",className:"mspace"},"\xa0"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,r.kt)("span",{parentName:"span",className:"minner"},"\u22ef"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},"5"),(0,r.kt)("span",{parentName:"span",className:"mord"},"0"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),(0,r.kt)("span",{parentName:"span",className:"mord"},"\u03a9")))))),(0,r.kt)("h2",{id:"interner-pull-up-widerstand"},"Interner Pull-Up Widerstand"),(0,r.kt)("img",{src:"/img/arduino/intPullUpWiderstand.svg",alt:"drawing",width:"300px",class:"center"}),(0,r.kt)("p",null,"Alternativ zu einem externen Pullup-Widerstand, der extra in die Schaltung eingef\xfcgt werden muss, gibt es beim Arduino auch die M\xf6glichkeit, einen internen Pullup-Widerstand zu konfigurieren. Daf\xfcr gibt es zwei M\xf6glichkeiten"),(0,r.kt)("p",null,"Mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"pinMode()")," und dem Parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"INPUT_PULLUP"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},"#define TASTER_PIN 3  \npinMode(TASTER_PIN, INPUT_PULLUP); // Pin als Eingang mitPullup-Widerstand konfigurieren\n")),(0,r.kt)("p",null,"Oder durch ein Kombination der Befehle ",(0,r.kt)("inlineCode",{parentName:"p"},"pinmode()")," und ",(0,r.kt)("inlineCode",{parentName:"p"},"digitalWrite()"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},"#define TASTER_PIN 3            \npinMode(TASTER_PIN, INPUT);     // Pin als Eingang definieren\ndigitalWrite(TASTER_PIN, HIGH); // Pullup-Widerstand des Pins einschalten\n")),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Ein Taster sollte nur mit einem Pullup- oder Pulldown-Widerstand verwendet werden, da der Spannungszustand des Taster-Pins sonst nicht stabil ist und der Zustand des Eingangspins sich zuf\xe4llig \xe4ndern kann."))),(0,r.kt)("h2",{id:"die-if-verzweigung---eine-bedingte-anweisung"},"Die ",(0,r.kt)("inlineCode",{parentName:"h2"},"if")," Verzweigung - Eine bedingte Anweisung"),(0,r.kt)("p",null,"Hat man den Status eines Tasters eingelesen, m\xf6chte man in aller Regel den weiteren Programmablauf vom Tasterzustand abh\xe4ngig machen. Hierf\xfcr eignet sich die ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," Verzweigung als bedingte Anweisung."),(0,r.kt)("img",{src:"/img/arduino/ifCondition.png",alt:"drawing",width:"290px",class:"center"}),(0,r.kt)("p",null,"Nach dem Schl\xfcsselwort ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," folgt in Klammern eine Bedingung. Diese Bedingung kann zum Beispiel ein Vergleich ",(0,r.kt)("inlineCode",{parentName:"p"},"zahl==1")," oder ",(0,r.kt)("inlineCode",{parentName:"p"},"zahl>1")," sein. Ist die Bedingung wahr, also ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", dann wird der in geschweiften Klammern ",(0,r.kt)("inlineCode",{parentName:"p"},"{ ... }"),"  stehende Code ausgef\xfchrt. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},'int zahl = 6;\n\nif( zahl > 6 )\n{\n  Serial.println("Die Zahl ist gr\xf6\xdfer als 6.");\n}\n')),(0,r.kt)("h3",{id:"if--else-if--else"},(0,r.kt)("inlineCode",{parentName:"h3"},"if ... else if ... else")),(0,r.kt)("p",null,"Oft kommt es aber vor, dass in einem Programm viele verschiedene Verzweigungen ben\xf6tigt werden, wobei f\xfcr jede einzelne Verzweigung eine Bedingung ben\xf6tigt wird. Hierf\xfcr stehen die Schl\xfcsselw\xf6rt ",(0,r.kt)("inlineCode",{parentName:"p"},"else if")," und ",(0,r.kt)("inlineCode",{parentName:"p"},"else")," zur Verf\xfcgung."),(0,r.kt)("img",{src:"/img/arduino/ifElseIfCondition.png",alt:"drawing",width:"380px",class:"center"}),(0,r.kt)("p",null,"Ist die Bedingung  einer ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," Anweisung ",(0,r.kt)("strong",{parentName:"p"},"nicht erf\xfcllt"),", so wird als n\xe4chstes \xfcberpr\xfcft, ob eine ",(0,r.kt)("inlineCode",{parentName:"p"},"else if")," Anweisung gegeben ist und ob deren Bedingung erf\xfcllt ist. In einer ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," Verzweigung k\xf6nnen beliebig viele  ",(0,r.kt)("inlineCode",{parentName:"p"},"else if")," Anweisungen angegeben werden, welche alle nacheinander abgearbeitet werden."),(0,r.kt)("p",null,"Mit dem abschlie\xdfenden Schl\xfcsselwort ",(0,r.kt)("inlineCode",{parentName:"p"},"else")," k\xf6nnen Anweisungen f\xfcr den Fall angegeben werden, dass keine der bei ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," oder ",(0,r.kt)("inlineCode",{parentName:"p"},"else if")," angegebenen Bedingungen wahr ist. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},'int zahl = 6;\n\nif( zahl < 6 )\n{\n  Serial.println("Die Zahl ist kleiner als 6.");\n}\n// Bedingung k\xf6nnen mit && als logisches UND verkn\xfcpft werden\nelse if( (zahl >= 6) &&  (zahl <= 10))  \n{\n  Serial.println("Die Zahl liegt zwischen 6 und 10.");\n}\nelse // ohne Bedingung\n{\n  Serial.println("Die Zahl ist gr\xf6\xdfer als 10.");\n}\n')),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Sobald eine Bedingung in  einer ",(0,r.kt)("inlineCode",{parentName:"p"},"if ... else if")," Verzweigung erf\xfcllt ist, wird der zugeh\xf6rige Code ausgef\xfchrt. Weitere, noch nicht \xfcberpr\xfcfte Bedingungen werden ignoriert und nicht mehr \xfcberpr\xfcft."))),(0,r.kt)("h2",{id:"einfaches-taster-beispiel"},"Einfaches Taster-Beispiel"),(0,r.kt)("p",null,"Im folgenden Beispiel soll exemplarisch der Zustand eines Tasters vom Arduino eingelesen werden. Ist der Taster gedr\xfcckt, soll eine angeschlossene LED aufleuchten, ist er nicht gedr\xfcckt, soll nichts passieren. "),(0,r.kt)("img",{src:"/img/arduino/BreadBoard_ButtonLED.png",alt:"drawing",width:"550px",class:"center"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino",metastring:'title="tasterEinlesen.ino"',title:'"tasterEinlesen.ino"'},"/* Einfaches Beispiel zum Einlesen des Tasterzustandes (externer Pullup-Widerstand) */\n\n# define PIN_LED 8  // Pin LED\n# define PIN_TASTER 3   // Pin Taster\n\nvoid setup() {\n  pinMode(PIN_LED, OUTPUT);   // Pin als Ausgang definieren\n  //highlight-next-line\n  pinMode(PIN_TASTER, INPUT); // Pin als Eingang definieren (externer Pullup-Wid.)\n}\nvoid loop() {\n  //highlight-next-line\n  int zustandTaster = digitalRead(PIN_TASTER); // Tasterzustand einlesen\n\n  // Pr\xfcfen des Tasterzustandes:\n  //highlight-next-line\n  if (zustandTaster == LOW) { //wenn gedr\xfcckt (LOW) ...\n    digitalWrite(PIN_LED, HIGH); // LED anschalten\n  //highlight-next-line   \n  } else { // sonst ...\n    digitalWrite(PIN_LED, LOW); // ansonsten LED ausschalten\n  }\n}\n\n")),(0,r.kt)("h3",{id:"pinmodepininput"},(0,r.kt)("inlineCode",{parentName:"h3"},"pinMode(pin,INPUT)")),(0,r.kt)("p",null,"Konfiguriert den angegebenen Pin des Arduinos als Eingang."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},"pinMode(PIN_TASTER, INPUT); // Pin als Eingang definieren (externer Pullup-Wid.)\n")),(0,r.kt)("h3",{id:"digitalreadpin"},(0,r.kt)("inlineCode",{parentName:"h3"},"digitalRead(pin)")),(0,r.kt)("p",null,"Liest den digitalen Zustand eines Pins ein und gibt entsprechend dem Zustand als R\xfcckgabewert ",(0,r.kt)("inlineCode",{parentName:"p"},"LOW")," oder ",(0,r.kt)("inlineCode",{parentName:"p"},"HIGH")," zur\xfcck."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},"int zustandTaster = digitalRead(PIN_TASTER); // Tasterzustand einlesen\n")),(0,r.kt)("h3",{id:"aufgaben"},"Aufgaben"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\xdcben")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Was passiert, wenn ein Taster direkt (also ohne Pullup-Widerstand) mit dem Arduino verbunden wird.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Ein Taster ist mit einem Pullup-Widerstand mit dem Arduino verbunden. Welches Level (HIGH oder LOW) liegt am Arduino an, wenn der Taster offen bzw. geschlossen ist? Erl\xe4utern Sie Ihre Antwort.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"In der Abbildung ist ein Pull-Down-Widerstand dargestellt. Analysieren Sie, welchen Zustand (Spannung) der angeschlossene Pin aufweist, wenn der Taster a) geschlossen und b) ge\xf6ffnet ist. (Begr\xfcndung nicht vergessen.)"),(0,r.kt)("img",{src:"/img/arduino/PullDown.png",alt:"drawing",width:"150px",class:"center"})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\xc4ndern sie das ",(0,r.kt)("a",{parentName:"p",href:"/docs/arduino/input#einfaches-taster-beispiel"},"Beispielprogramm")," so, dass beim Dr\xfccken des Tasters eine angeschlossene LED blinkt (1 Sekunde an, 1 Sekunde aus). Verh\xe4lt sich ihr Programm, wie Sie es erwarten?")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\xc4ndern Sie die obige ",(0,r.kt)("a",{parentName:"p",href:"/docs/arduino/input#einfaches-taster-beispiel"},"Beispielschaltung")," und nutzen Sie anstelle des externen, einen ",(0,r.kt)("strong",{parentName:"p"},"internen Pullup-Widerstand"),". \xc4ndern Sie hierf\xfcr auch den Programmcode.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\xc4ndern Sie die obige ",(0,r.kt)("a",{parentName:"p",href:"/docs/arduino/input#einfaches-taster-beispiel"},"Beispielschaltung")," (",(0,r.kt)("strong",{parentName:"p"},"ohne \xc4nderung im Programmcode)")," so, dass die LED beim Dr\xfccken des Tasters ausgeschaltet wird. Sie also leuchtet, wenn der Taster nicht gedr\xfcckt ist. Bauen sie die Schaltung auf und dokumentieren Sie diese z.B. mit ",(0,r.kt)("a",{parentName:"p",href:"https://fritzing.org/home/"},"Fritzing"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Bauen Sie eine Schaltung mit zwei LEDs und zwei Tastern auf. Schreiben Sie anschlie\xdfend ein Programm mit folgenden Eigenschaften:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Die erst LED leuchtet, wenn der Taster 1 gedr\xfcckt ist."),(0,r.kt)("li",{parentName:"ol"},"Die zweite LED leuchtet, wenn der Taster 2 gedr\xfcckt ist."),(0,r.kt)("li",{parentName:"ol"},"Beide LEDs leuchten, wenn beide Taster gedr\xfcckt sind."),(0,r.kt)("li",{parentName:"ol"},"Verwenden Sie nur ",(0,r.kt)("strong",{parentName:"li"},"eine")," ",(0,r.kt)("inlineCode",{parentName:"li"},"if ... else if ... else if ... else")," Verzweigung."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Schreiben Sie ein Programm, welches mit ",(0,r.kt)("inlineCode",{parentName:"p"},"Serial.print()")," auf dem seriellen Monitor alle Zahlen von 0 bis 100 ausgibt. Als Ausnahme soll jedoch f\xfcr jede Zahl, die durch 3 teilbar ist, ",(0,r.kt)("em",{parentName:"p"},"Fizz")," und f\xfcr jede Zahl, die durch 5 teilbar ist, ",(0,r.kt)("em",{parentName:"p"},"Buzz")," ausgegeben werden.\nWenn Ihr Programm funktioniert, erweitern Sie es so, dass es ",(0,r.kt)("em",{parentName:"p"},"FizzBuzz")," ausgibt, wenn die Zahl durch 3 und 5 teilbar ist."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"Hinweis: Verwenden Sie den ",(0,r.kt)("a",{parentName:"em",href:"https://www.arduino.cc/reference/de/language/structure/arithmetic-operators/modulo/"},"Modulo-Opertor")," ",(0,r.kt)("inlineCode",{parentName:"em"},"%")," f\xfcr die Division mit Rest.")))))),(0,r.kt)("h2",{id:"warten-auf-eine-tastereingabe-mit-der-while-schleife"},"Warten auf eine Tastereingabe mit der while-Schleife"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"todo: Text und Aufgaben erg\xe4nzen")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#define TASTER 3\n\nwhile(digitalRead(TASTER)){\n  delay(1)\n}\n")),(0,r.kt)("h2",{id:"ein-taster-zum-umschalten"},"Ein Taster zum Umschalten"),(0,r.kt)("p",null,"Wird mit einem Taster eine LED gesteuert, so sollte die LED ",(0,r.kt)("strong",{parentName:"p"},"beim ersten Dr\xfccken des Tasters angehen und beim zweiten Dr\xfccken wieder ausgehen"),". Anstatt also die LED einfach anzuschalten, wenn der Taster gedr\xfcckt ist, muss sich das System den Zustand der LED und des Tasters merken und entsprechend den Zustand der LED \xe4ndern."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-arduino"},"/* Unvollst\xe4ndiger Code f\xfcr eine tastergesteuerte LED */\n\n#define TASTER 3          // Taster-Pin mit Pull-UP Widerst. (LOW = gedr\xfcckt)\n#define LED 13            // an Schaltung anpassen\n\n//highlight-start\nint statusLED = LOW;             // aktueller Status der LED muss gespeichert werden\nint statusTaster = HIGH;         // aktueller Status des Taster\nint statusTasterLetzter = HIGH;  // Status des Tasters beim letzten loop() Durchlauf\n//highlight-end\n\nvoid setup(){\n    //   - TASTER mit Pull-UP-Widerstand konfigurieren\n    //   - LED konfigurieren \n    //   - serielle Schnittstelle konfigurieren */  \n} \n\nvoid loop(){\n  statusTaster = digitalRead(TASTER); // Taster-Pin einlesen\n    \n    // WENN (Status des Tasters ge\xe4ndert)\n    //      WENN (Taster gedr\xfcckt)\n    //         Status der LED \xe4ndern (statusLED)             \n  \n  statusTasterLetzter = statusTaster; // aktualisieren des letzten Tasterstatus\n  digitalWrite(LED,statusLED);\n} // END loop()\n\n")),(0,r.kt)("h3",{id:"aufgaben-1"},"Aufgaben"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\xdcben")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Lesen Sie den unvollst\xe4ndigen Programmcode f\xfcr eine tastergesteuerte LED sorgf\xe4ltig durch und erg\xe4nzen Sie die fehlenden Programmteile. Sollte sich die LED nicht verhalten wie gew\xfcnscht, nutzen Sie die ",(0,r.kt)("a",{parentName:"p",href:"/docs/arduino/seriell"},"serielle Schnittstelle")," zum Debuggen.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"F\xfcgen Sie in Ihr Programm eine Z\xe4hlvariable ein, welche bei jedem Bet\xe4tigen des Tasters um eins erh\xf6ht wird. Geben Sie den Wert der Z\xe4hlvariable \xfcber die serielle Schnittstelle auf dem PC aus. Nutzen Sie f\xfcr die serielle Schnittstelle eine hohe Baudrate (115.200  baud)."),(0,r.kt)("p",{parentName:"li"},"Analysieren Sie das Verhalten der Z\xe4hlvariablen."))))))}o.isMDXComponent=!0}}]);