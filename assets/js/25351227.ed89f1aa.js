"use strict";(self.webpackChunkspace_hal=self.webpackChunkspace_hal||[]).push([[3933],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>c});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=i.createContext({}),d=function(e){var n=i.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=d(e.components);return i.createElement(u.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},k=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),p=d(t),k=a,c=p["".concat(u,".").concat(k)]||p[k]||m[k]||r;return t?i.createElement(c,l(l({ref:n},s),{},{components:t})):i.createElement(c,l({ref:n},s))}));function c(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=k;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o[p]="string"==typeof e?e:a,l[1]=o;for(var d=2;d<r;d++)l[d]=t[d];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}k.displayName="MDXCreateElement"},9279:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var i=t(7462),a=(t(7294),t(3905));const r={title:"Funktionen",sidebar_label:"Funktionen",description:"Funktionen mit Arduino.",custom_edit_url:null,keywords:["Arduino","Funktionen","Paramter","R\xfcckgabewert","Beispiel","Aufgaben"]},l=void 0,o={unversionedId:"arduino/functions",id:"arduino/functions",title:"Funktionen",description:"Funktionen mit Arduino.",source:"@site/docs/arduino/functions.md",sourceDirName:"arduino",slug:"/arduino/functions",permalink:"/docs/arduino/functions",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{title:"Funktionen",sidebar_label:"Funktionen",description:"Funktionen mit Arduino.",custom_edit_url:null,keywords:["Arduino","Funktionen","Paramter","R\xfcckgabewert","Beispiel","Aufgaben"]},sidebar:"mySidebar",previous:{title:"Taster und if-Verzweigung",permalink:"/docs/arduino/input"},next:{title:"Zeitkritische Aufgaben",permalink:"/docs/arduino/millis"}},u={},d=[{value:"Eine Funktion zum Anschalten einer LED",id:"eine-funktion-zum-anschalten-einer-led",level:2},{value:"Ein Blink-Programm",id:"ein-blink-programm",level:4},{value:"Konventionen",id:"konventionen",level:2},{value:"Funktionen mit Parametern",id:"funktionen-mit-parametern",level:2},{value:"Konvention",id:"konvention",level:3},{value:"Beispiel",id:"beispiel",level:4},{value:"Funktionen mit R\xfcckgabewert",id:"funktionen-mit-r\xfcckgabewert",level:2},{value:"Statische Variablen",id:"statische-variablen",level:2}],s={toc:d},p="wrapper";function m(e){let{components:n,...t}=e;return(0,a.kt)(p,(0,i.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Eine Funktionen ist ein ",(0,a.kt)("strong",{parentName:"p"},"zusammengefasster Codeblock")," (Unterprogramm), welcher an beliebigen Stellen eines Programms (wiederkehrend) aufgerufen werden kann. Wird eine Funktion in einem Programm aufgerufen, so wird zuerst der Code der Funktion ausgef\xfchrt und anschlie\xdfend das Programm an der Stelle des Funktionsaufrufes weitergef\xfchrt. Funktionen k\xf6nnen ",(0,a.kt)("strong",{parentName:"p"},"Parameter als Eingabegr\xf6\xdfen")," akzeptieren und ",(0,a.kt)("strong",{parentName:"p"},"berechnete Werte zur\xfcckgeben"),"."),(0,a.kt)("h2",{id:"eine-funktion-zum-anschalten-einer-led"},"Eine Funktion zum Anschalten einer LED"),(0,a.kt)("p",null,"Ein sehr einfaches Beispiel f\xfcr eine Funktion k\xf6nnte das ",(0,a.kt)("strong",{parentName:"p"},"Anschalten einer LED")," sein. Diese Funktion soll keine Eingabeparameter und keine R\xfcckgabewerte haben und beim Aufruf eine vorher festgelegte LED anschalten. Deshalb beginnt die Funktionsdefinition mit dem Schl\xfcsselwort ",(0,a.kt)("inlineCode",{parentName:"p"},"void"),", was angibt, dass die Funktion ",(0,a.kt)("strong",{parentName:"p"},"keinen R\xfcckgabewert")," hat."),(0,a.kt)("p",null,"Nach dem Schl\xfcsselwort ",(0,a.kt)("inlineCode",{parentName:"p"},"void")," folgt der selbst gew\xe4hlte Name der Funktion und ein runde Klammer. Der von der Funktion auszuf\xfchrende Code wird anschlie\xdfend zwischen zwei geschweifte Klammern ",(0,a.kt)("inlineCode",{parentName:"p"},"{...}"),"  geschrieben."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-arduino"},"// Funktionsdefinition f\xfcr `anschaltenLed()`\nvoid anschaltenLed()       // Keine Parameter, keine R\xfcckgabewert           \n{\n    digitalWrite(2,HIGH);  // Eine Funktion kann auch mehr als eine Zeile Code enthalten.\n}\n")),(0,a.kt)("p",null,"Nachdem eine Funktion definiert wurde, kann sie mit ihrem Namen gefolgt von zwei Klammern ",(0,a.kt)("inlineCode",{parentName:"p"},"()")," aufgerufen werden:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-arduino"},"anschaltenLed();  //  Funktionsaufruf\n")),(0,a.kt)("p",null,"\xc4hnlich wie bei Schleifen oder Programmverzweigungen kann auch eine Funktion auf ",(0,a.kt)("strong",{parentName:"p"},"globale Variablen zugreifen"),". Im folgenden Beispiel wird die globale Variable ",(0,a.kt)("inlineCode",{parentName:"p"},"pinLed")," zum Schalten der LED genutzt."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-arduino"},"int pinLed = 2;\n\nvoid anschaltenLed()               \n{\n    digitalWrite(pinLed,HIGH);  // Die Funktion greift auf die globale Variable `pinLed` zu.\n}\n")),(0,a.kt)("h4",{id:"ein-blink-programm"},"Ein Blink-Programm"),(0,a.kt)("p",null,"Wird noch eine weitere Funktion ",(0,a.kt)("inlineCode",{parentName:"p"},"ausschaltenLed()")," definiert, so ergibt sich ein sehr verst\xe4ndlicher Code zum Blinken eine LED:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-arduino"},"int pinLed = 2;   \n\n// Eine Funktionsdefinition \nvoid anschaltenLed(){\n    digitalWrite(pinLed,HIGH);  \n}\n\n// Noch eine Funktionsdefinition \nvoid ausschaltenLed(){\n    digitalWrite(pinLed,LOW);   \n}\n\nvoid setup() {\n  pinMode(pinLed,OUTPUT); \n}\n\nvoid loop() {\n  anschaltenLed();  // Aufruf der Funktion \n  delay(1000); \n  ausschaltenLed(); // Aufruf der Funktion                       \n  delay(1000);                 \n}\n")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Beim Aufruf einer Funktion d\xfcrfen die runden Klammern nach dem Funktionsnamen nicht fehlen.")),(0,a.kt)("h2",{id:"konventionen"},"Konventionen"),(0,a.kt)("p",null,"Eine wesentliche Aufgabe von Funktionen ist es, ein Programm lesbar zu machen. Aus diesem Grund sind die gew\xe4hlten ",(0,a.kt)("strong",{parentName:"p"},"Funktionsnamen")," \xe4u\xdferst wichtig. Folgende Regeln sollten Sie beim Schreiben eigener Funktionen beachten:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ein Funktionsname beginnt immer mit einem ",(0,a.kt)("strong",{parentName:"li"},"Verb im Infinitiv"),". Anschlie\xdfend k\xf6nnen weitere W\xf6rter zum Erl\xe4utern folgen (",(0,a.kt)("inlineCode",{parentName:"li"},"schaltenLed()"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"messenSensor()"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"lesenZustand()"),", ...)."),(0,a.kt)("li",{parentName:"ul"},"Der Funktionsname beschreibt nur die von der Funktion ausgef\xfchrte Aktion."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Je k\xfcrzer eine Funktion, desto besser"),". Schreiben Sie lieber zwei oder drei kurze Funktionen, als eine lange Funktion."),(0,a.kt)("li",{parentName:"ul"},"Nutzen Sie Funktionen auch bei kurzen Programmen.")),(0,a.kt)("details",{className:"ueben"}," ",(0,a.kt)("summary",null,"Aufgaben"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Schreiben Sie die Funktion ",(0,a.kt)("inlineCode",{parentName:"p"},"gruessen()")," (verwenden Sie keine Umlaute), welche auf dem seriellen Monitor folgenden Satz schreibt:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-text"},"Hallo Welt, wie geht es?\n")),(0,a.kt)("p",{parentName:"li"},"Nutzen Sie ansschlie\xdfend die Funktion, um den Satz dreimal auszugeben:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-text"},"Hallo Welt, wie geht es?\nHallo Welt, wie geht es?\nHallo Welt, wie geht es?\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Schreiben Sie eine Funktion ",(0,a.kt)("inlineCode",{parentName:"p"},"aufblinken()"),", welche ein LED zuerst anschaltet und 0,2 Sekunden sp\xe4ter wieder ausschaltet. Nutzen Sie die Funktion, um eine LED ",(0,a.kt)("strong",{parentName:"p"},"blinken")," zu lassen:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-arduino"},"void loop(){\n    aufblinken();\n    delay(1000);\n}\n"))))),(0,a.kt)("h2",{id:"funktionen-mit-parametern"},"Funktionen mit Parametern"),(0,a.kt)("p",null,"Im obigen ",(0,a.kt)("a",{parentName:"p",href:"/docs/arduino/functions#eine-funktion-zum-anschalten-einer-led"},"Beispiel")," kann mit der Funktion  ",(0,a.kt)("inlineCode",{parentName:"p"},"anschaltenLed()"),"  die LED am Pin ",(0,a.kt)("inlineCode",{parentName:"p"},"pinLed")," angeschaltet werden. Aber was ist, wenn mit der selben Funktion auch eine zweite oder dritte LED angeschaltet werden soll? Eine L\xf6sung w\xe4re, die globale Variable ",(0,a.kt)("inlineCode",{parentName:"p"},"pinLed")," zu \xe4ndern. Allerdings f\xfchrt das zu einem sehr un\xfcbersichtlichen Code."),(0,a.kt)("p",null,"Besser ist es, der Funktion einen ",(0,a.kt)("strong",{parentName:"p"},"Parameter zu \xfcbergeben"),", der angibt, welche LED angeschaltet werden soll. Der ",(0,a.kt)("strong",{parentName:"p"},"Funktionsparameter")," wird bei der Funktionsdefintion nach dem Funktionsnamen in runden Klammern angegeben. "),(0,a.kt)("p",null,"Da es sich bei dem Funktionsparameter um eine ",(0,a.kt)("strong",{parentName:"p"},"Variable")," handelt, muss zus\xe4tzlich auch der Datentyp des Parameters angegeben werden."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"void anschaltenLed(int pParameter) { // Funktion mit Parameter vom Typ Integer\n  // `pParameter`kann wie eine beliebige Variable genutzt werden\n }\n")),(0,a.kt)("p",null,"Innerhalb der Funktion kann der Parameter wie jede andere Variable verwendet werden. Au\xdferhalb der Funktion, also in einer anderen Funktion oder im Hauptprogramm, kann auf den Parameter nicht zugegriffen werden. ",(0,a.kt)("strong",{parentName:"p"},"Der G\xfcltigkeitsbereich des Funktionsparameters bezieht sich nur auf die Funktion selbst.")),(0,a.kt)("h3",{id:"konvention"},"Konvention"),(0,a.kt)("p",null,"Damit Funktionsparameter von globalen oder lokalen Variablen unterschieden werden k\xf6nnen, ist es sinnvoll, sie speziell zu kennzeichnen. An dieser Stelle soll daher die ",(0,a.kt)("strong",{parentName:"p"},"Konvention")," eingef\xfchrt werden, dass jeder ",(0,a.kt)("strong",{parentName:"p"},"Funktionsparameter")," mit einem kleinen ",(0,a.kt)("inlineCode",{parentName:"p"},"p")," beginnt. Anschlie\xdfend folgt eine aussagekr\xe4ftige Bezeichnung f\xfcr den Parameter (z.B. ",(0,a.kt)("inlineCode",{parentName:"p"},"pPinLED")," oder ",(0,a.kt)("inlineCode",{parentName:"p"},"pZustand"),")."),(0,a.kt)("h4",{id:"beispiel"},"Beispiel"),(0,a.kt)("p",null,"Im folgenden Beispiel werden mit einer ",(0,a.kt)("strong",{parentName:"p"},"Funktion mit Parametern")," zwei LEDs nacheinander angeschaltet."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-arduino"},"#define LED1 4\n#define LED2 5\n\nvoid anschaltenLed(int pPinLed){ // Funktionsdefinition mit Paramter\n  digitalWrite(pPinLed, HIGH);\n}\n\nvoid setup(){\n  pinMode(LED1,OUTPUT);\n  pinMode(LED2,OUTPUT);\n\n  anschaltenLed(LED1);            // Funktionsaufruf mit Parameter\n  delay(500);\n  anschaltenLed(LED2);            // Funktionsaufruf mit Parameter\n}\n\nvoid loop(){\n  // bleibt leer\n}\n")),(0,a.kt)("p",null," Eine Funktion kann auch ",(0,a.kt)("strong",{parentName:"p"},"mehr als einen Parameter")," haben. In diesem Fall werden alle weiteren Parameter durch ein Komma voneinander getrennt in der Funktionsdefinition angegeben:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"void anschaltenLed(int pParameter1, bool pParamter2, float pParameter3) {\n  // Eine Funktion mit mehreren Parametern.\n }\n")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Als Konvention beginnt der Name eines Funktionsparamters immer mit einem kleinen ",(0,a.kt)("inlineCode",{parentName:"p"},"p"),". Zum Beispiel ",(0,a.kt)("inlineCode",{parentName:"p"},"pPinLED")," oder ",(0,a.kt)("inlineCode",{parentName:"p"},"pZustand"),".")),(0,a.kt)("details",{className:"ueben"}," ",(0,a.kt)("summary",null,"Aufgaben"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Schreiben Sie eine Funktion ",(0,a.kt)("inlineCode",{parentName:"p"},"blinkenLED(int pPeriodendauer)"),", welche eine LED am Pin 3 blinken l\xe4sst. Der Funktionsparameter soll die Periodendauer in Millisekunden des Blinksignals angeben. Testen Sie die Funktion.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Erweitern Sie die Funktion ",(0,a.kt)("inlineCode",{parentName:"p"},"blinkenLED()")," (Aufgabe 1) um einen Parameter f\xfcr den verwendeten LED-Pin. \xdcberpr\xfcfen Sie, ob es mit der Funktion m\xf6glich ist, zwei LEDs gleichzeitig blinken zu lassen."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"int LED1 = 5;\nint LED2 = 6;\n\nvoid loop(){\n  blinkenLED(LED1,1000);\n  blinkenLED(LED2,500);\n}\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Schreiben Sie eine Funktion zum Schalten einer LED. Die Funkion ",(0,a.kt)("inlineCode",{parentName:"p"},"schalten(int pPin, bool pZustand)")," soll zwei Paramter erhalten, welche den Pin der LED und den aktuellen Zustand der LED angeben. Nutzen Sie die Funktion, um eine LED blinken zu lassen.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Schreiben Sie eine Funktion ",(0,a.kt)("inlineCode",{parentName:"p"},"codierenBuchstabe(char pBuchstabe)")," welche den Morse-Code f\xfcr den angegeben Buchstaben an einer LED als Blink-Muster ausgibt (Es ist ausreichend, wenn die Funktion nur die Buchstaben 'O' und 'S' codieren kann). Nutzen Sie die Funktion, um den Morse-Code f\xfcr ",(0,a.kt)("em",{parentName:"p"},"SOS")," ein einer LED ausgeben zu lassen.\nInformieren Sie sich bei Wikipedia \xfcber den ",(0,a.kt)("a",{parentName:"p",href:"https://de.wikipedia.org/wiki/Morsecode#Zeitschema_und_Veranschaulichung"},"Morse-Code"),"."),(0,a.kt)("p",{parentName:"li"}," Ihre ",(0,a.kt)("inlineCode",{parentName:"p"},"loop()")," Funktion sollte  folgenderma\xdfen aussehen:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"void loop() {\n  codierenBuchstabe('S');\n  codierenBuchstabe('O');\n  codierenBuchstabe('S');\n  zeigeWortabstand();     // Zeitlicher Abstand zwischen zwei W\xf6rtern\n}\n"))))),(0,a.kt)("h2",{id:"funktionen-mit-r\xfcckgabewert"},"Funktionen mit R\xfcckgabewert"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"int summe(int a, int b){\n  return a+b;\n}\n")),(0,a.kt)("h2",{id:"statische-variablen"},"Statische Variablen"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Statische Variablen"),", die innerhalb einer Funktion deklariert werden, existieren auch nach dem Beenden einer Funktion weiter. Das bedeutet, dass sie beim erneuten Ausf\xfchren der Funktion den selben Wert wie beim Beenden des letzten Funktionsaufrufs haben. Sie eignen sich zum Beispiel ",(0,a.kt)("strong",{parentName:"p"},"zum Speichern von Zust\xe4nden"),"."),(0,a.kt)("p",null,"Im folgenden Beispiel wird mit der statischen Variablen"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"static bool lZustandLed = false; \n")),(0,a.kt)("p",null,"der aktuelle Zustand einer LED gespeichert. "),(0,a.kt)("p",null,"Bei jedem Aufruf der Funktion wird der Zustand der Variablen ge\xe4ndert und als digitales Signal ausgegeben. Die LED wird also bei jedem Funktionsaufruf umgeschaltet."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"#define LED1 4\n\nvoid umschaltenLed(int pPinLed){\n  //highlight-next-line\n  static bool lZustandLed = false;   // statische Variable, wird nach dem Beenden der Funktion nicht gel\xf6scht \n  lZustandLed != lZustandLed;\n  digitalWrite(pPinLed, lZustandLed);\n}\n\n\nvoid setup(){\n  pinMode(LED1,OUTPUT);\n}\n\nvoid loop(){\n  umschaltenLed(LED1);            // Funktionsaufruf mit Parameter\n  delay(500);\n}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.geeksforgeeks.org/static-variables-in-c/"},"Static Variables in C")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.c-howto.de/tutorial/variablen-konstanten/statische-variablen/"},"Statische Variablen"))))}m.isMDXComponent=!0}}]);